<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrepreneur Augment√© - Diagnostic Biohacking</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #000324 0%, #001a4a 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInUp 0.8s ease-out;
        }

        .quiz-title {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #01FF00, #00cc00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .quiz-subtitle {
            font-size: 1.4rem;
            opacity: 0.9;
            margin-bottom: 30px;
            font-weight: 300;
        }

        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            height: 8px;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 50px;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #01FF00, #00cc00);
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(1, 255, 0, 0.5);
        }

        .progress-text {
            position: absolute;
            top: -30px;
            right: 0;
            font-size: 0.9rem;
            color: #01FF00;
            font-weight: 600;
        }

        .question-container {
            display: none;
            animation: slideIn 0.6s ease-out;
            text-align: center;
        }

        .question-container.active {
            display: block;
        }

        .question-header {
            margin-bottom: 50px;
        }

        .question-number {
            font-size: 1rem;
            color: #01FF00;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .question-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .question-subtitle {
            font-size: 1.1rem;
            opacity: 0.7;
            font-weight: 300;
            margin-bottom: 25px;
        }

        /* Multiple choice indicator */
        .multiple-choice-indicator {
            background: rgba(1, 255, 0, 0.1);
            border: 1px solid #01FF00;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 0.9rem;
            color: #01FF00;
            margin-top: 15px;
            margin-bottom: 0px;
            display: inline-block;
        }

        /* Style pour questions avec images */
        .answers-grid-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .answer-card {
            background: rgba(255, 255, 255, 0.08);
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            position: relative;
            aspect-ratio: 3/4;
        }

        .answer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(1, 255, 0, 0) 0%, rgba(1, 255, 0, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .answer-card:hover::before {
            opacity: 1;
        }

        .answer-card:hover {
            border-color: #01FF00;
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(1, 255, 0, 0.2);
        }

        .answer-card.selected {
            border-color: #01FF00;
            background: rgba(1, 255, 0, 0.15);
            transform: scale(1.05);
            box-shadow: 0 15px 35px rgba(1, 255, 0, 0.3);
        }

        .answer-image {
            width: 100%;
            height: 70%;
            object-fit: cover;
            border-radius: 16px 16px 0 0;
        }

        .answer-content {
            padding: 20px;
            height: 30%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        .answer-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: white;
        }

        .answer-description {
            font-size: 0.95rem;
            opacity: 0.8;
            line-height: 1.3;
        }

        /* Style pour questions texte */
        .answers-grid-text {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }

        .answer-option-text {
            background: rgba(255, 255, 255, 0.06);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            display: flex;
            align-items: center;
            min-height: 80px;
        }

        .answer-option-text:hover {
            border-color: #01FF00;
            background: rgba(1, 255, 0, 0.08);
            transform: translateX(5px);
        }

        .answer-option-text.selected {
            border-color: #01FF00;
            background: rgba(1, 255, 0, 0.12);
            box-shadow: 0 0 20px rgba(1, 255, 0, 0.3);
        }

        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 6px;
            margin-right: 20px;
            position: relative;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .answer-option-text.selected .checkbox {
            background: #01FF00;
            border-color: #01FF00;
        }

        .checkbox::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000324;
            font-weight: bold;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .answer-option-text.selected .checkbox::after {
            opacity: 1;
        }

        .answer-text-content {
            flex: 1;
        }

        .answer-text-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .answer-text-description {
            font-size: 0.95rem;
            opacity: 0.7;
            line-height: 1.4;
        }

        /* Style pour pages d'accroche */
        .value-page {
            display: none;
            text-align: center;
            animation: slideIn 0.6s ease-out;
        }

        .value-page.active {
            display: block;
        }

        .value-icon {
            font-size: 4rem;
            margin-bottom: 30px;
            opacity: 0.8;
        }

        .value-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 30px;
            color: #01FF00;
        }

        .value-content {
            max-width: 600px;
            margin: 0 auto;
            font-size: 1.2rem;
            line-height: 1.6;
            opacity: 0.9;
            margin-bottom: 50px;
        }

        .value-highlight {
            color: #01FF00;
            font-weight: 600;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            margin-top: 40px;
        }

        .navigation.center {
            justify-content: center;
        }

        .btn {
            background: linear-gradient(45deg, #01FF00, #00cc00);
            color: #000324;
            border: none;
            padding: 18px 40px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 180px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(1, 255, 0, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: transparent;
            color: #01FF00;
            border: 2px solid #01FF00;
        }

        .btn-secondary:hover {
            background: #01FF00;
            color: #000324;
        }

        .btn-invisible {
            visibility: hidden;
        }

        /* Contact Form */
        .contact-form {
            max-width: 500px;
            margin: 0 auto;
            text-align: left;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #01FF00;
            font-size: 1.1rem;
        }

        .input-group input {
            width: 100%;
            padding: 18px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: #01FF00;
            background: rgba(1, 255, 0, 0.05);
            box-shadow: 0 0 20px rgba(1, 255, 0, 0.2);
        }

        .input-group input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Loading */
        .loading {
            display: none;
            text-align: center;
            padding: 80px 20px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid #01FF00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }

        .loading-text {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .loading-subtext {
            font-size: 1rem;
            opacity: 0.7;
        }

        /* Results */
        .results-container {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .results-container.active {
            display: block;
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .results-greeting {
            font-size: 2.2rem;
            color: #01FF00;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .results-subtext {
            font-size: 1.1rem;
            opacity: 0.8;
        }

        .score-card {
            background: linear-gradient(135deg, rgba(1, 255, 0, 0.15), rgba(1, 255, 0, 0.05));
            border: 2px solid #01FF00;
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 35px;
            text-align: center;
        }

        .profile-type {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #01FF00;
            font-weight: 800;
        }

        .score-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .score-label {
            font-size: 1.2rem;
        }

        .score-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #01FF00;
        }

        .score-bar-container {
            width: 100%;
            height: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .score-bar {
            height: 100%;
            background: linear-gradient(90deg, #01FF00, #00cc00);
            border-radius: 6px;
            transition: width 2s ease;
        }

        .score-explanation {
            font-style: italic;
            opacity: 0.9;
        }

        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 35px;
        }

        .results-card {
            background: rgba(255, 255, 255, 0.06);
            border-radius: 16px;
            padding: 25px;
            text-align: left;
        }

        .results-card-title {
            color: #01FF00;
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .results-list {
            list-style: none;
        }

        .results-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            line-height: 1.4;
        }

        .results-list li::before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: #01FF00;
            font-weight: bold;
        }

        .results-list.checkmarks li::before {
            content: '‚úì';
        }

        .what-next-card {
            background: rgba(1, 255, 0, 0.08);
            border: 1px solid rgba(1, 255, 0, 0.3);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
        }

        .what-next-title {
            color: #01FF00;
            margin-bottom: 20px;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .what-next-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .what-next-item {
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            font-size: 0.95rem;
        }

        .final-message {
            font-size: 1.1rem;
            font-weight: 600;
            color: #01FF00;
            margin-top: 20px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .quiz-title {
                font-size: 2.2rem;
            }
            
            .question-title {
                font-size: 1.8rem;
            }
            
            .answers-grid-images {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
            }
            
            .answers-grid-text {
                grid-template-columns: 1fr;
            }
            
            .answer-card {
                aspect-ratio: 4/5;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            .what-next-grid {
                grid-template-columns: 1fr;
            }

            .navigation {
                flex-direction: column;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="quiz-header">
            <h1 class="quiz-title">Entrepreneur Augment√©</h1>
            <p class="quiz-subtitle">Diagnostique ta marge de progression en biohacking</p>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-text" id="progressText">0/10</div>
            </div>
        </div>

        <!-- Questions will be dynamically generated here -->
        <div id="questionsContainer"></div>

        <!-- Contact Form -->
        <div class="question-container" id="contactForm">
            <div class="question-header">
                <div class="question-number">Derni√®re √©tape</div>
                <h2 class="question-title">Obtiens ton diagnostic personnalis√©</h2>
                <p class="question-subtitle">Re√ßois ton profil complet sous 24h</p>
            </div>
            <div class="contact-form">
                <div class="input-group">
                    <label for="prenom">Pr√©nom *</label>
                    <input type="text" id="prenom" name="prenom" placeholder="Ton pr√©nom" required>
                </div>
                <div class="input-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email" name="email" placeholder="ton@email.com" required>
                </div>
                <div class="input-group">
                    <label for="mobile">Mobile (optionnel)</label>
                    <input type="tel" id="mobile" name="mobile" placeholder="+33 6 12 34 56 78">
                </div>
                <div class="navigation">
                    <button type="button" class="btn btn-secondary" onclick="previousStep()">Retour</button>
                    <button type="button" class="btn" onclick="submitForm()">Obtenir mon diagnostic</button>
                </div>
            </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <h2 class="loading-text">Analyse de tes r√©ponses...</h2>
            <p class="loading-subtext">Calcul de ton profil biohacking personnalis√©</p>
        </div>

        <!-- Results -->
        <div class="results-container" id="results">
            <div id="resultsContent"></div>
            <div class="navigation center">
                <button type="button" class="btn" onclick="restartQuiz()">Recommencer le diagnostic</button>
            </div>
        </div>
    </div>

    <script>
        // Configuration du quiz - FACILE √Ä MODIFIER
        const quizConfig = {
            title: "Entrepreneur Augment√©",
            subtitle: "Diagnostique ta marge de progression en biohacking",
            googleScriptUrl: "https://script.google.com/macros/s/TON_SCRIPT_ID_ICI/exec",
            
            // Pages d'accroche (style BetterMe)
            valuePages: [
                {
                    id: "intro",
                    icon: "üöÄ",
                    title: "Pr√™t √† d√©bloquer ton potentiel ?",
                    content: "En tant qu'entrepreneur, <span class='value-highlight'>ta biologie est ton premier asset</span>. Ce diagnostic va r√©v√©ler exactement o√π tu perds de la performance et comment la r√©cup√©rer.<br><br>Bas√© sur <span class='value-highlight'>3 ans de recherche</span> et les donn√©es de <span class='value-highlight'>1000+ entrepreneurs</span> de haut niveau."
                },
                {
                    id: "mid-quiz",
                    icon: "‚ö°",
                    title: "Tu progresses bien !",
                    content: "D√©j√† <span class='value-highlight'>50% de compl√©t√©</span> ! Ces donn√©es vont nous permettre de cr√©er ton protocole personnalis√©.<br><br>Les prochaines questions d√©terminent <span class='value-highlight'>ton type de profil</span> et tes axes d'am√©lioration prioritaires."
                }
            ],

            questions: [
                {
                    id: 1,
                    type: "single_image",
                    title: "Quel est ton √¢ge ?",
                    subtitle: "Nous adapterons tes recommandations selon ta tranche d'√¢ge",
                    answers: [
                        {
                            value: "18-29",
                            title: "18-29 ans",
                            description: "G√©n√©ration Z entrepreneur",
                            image: "https://plus.unsplash.com/premium_photo-1671656349322-41de944d259b?w=400&h=600&fit=crop&crop=face"
                        },
                        {
                            value: "30-39",
                            title: "30-39 ans", 
                            description: "Mill√©nial ambitieux",
                            image: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=600&fit=crop&crop=face"
                        },
                        {
                            value: "40-49",
                            title: "40-49 ans",
                            description: "Exp√©rience & vision",
                            image: "https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&h=600&fit=crop&crop=face"
                        },
                        {
                            value: "50+",
                            title: "50+ ans",
                            description: "Sage & performant",
                            image: "https://images.unsplash.com/photo-1607990281513-2c110a25bd8c?w=400&h=600&fit=crop&crop=face"
                        }
                    ]
                },
                {
                    id: 2,
                    type: "multiple_text",
                    title: "Quelles sont tes motivations pour t'upgrader ?",
                    subtitle: "Choisis toutes les r√©ponses qui s'appliquent",
                    answers: [
                        {
                            value: "energy",
                            title: "Avoir plus d'√©nergie",
                            description: "√ätre en forme du matin au soir"
                        },
                        {
                            value: "focus",
                            title: "Am√©liorer ma concentration",
                            description: "Focus laser pour performer"
                        },
                        {
                            value: "stress",
                            title: "Mieux g√©rer le stress",
                            description: "Rester zen sous pression"
                        },
                        {
                            value: "sleep",
                            title: "Optimiser mon sommeil",
                            description: "R√©cup√©ration parfaite"
                        },
                        {
                            value: "performance",
                            title: "Performer au maximum",
                            description: "Unleash my potential"
                        }
                    ]
                },
                {
                    id: 3,
                    type: "single_image",
                    title: "Quel est ton objectif physique ?",
                    subtitle: "Nous personnaliserons tes protocoles d'entra√Ænement",
                    answers: [
                        {
                            value: "lean",
                            title: "√ätre plus sec",
                            description: "Perdre la graisse, garder le muscle",
                            image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=600&fit=crop&crop=face"
                        },
                        {
                            value: "muscle",
                            title: "Prendre du muscle",
                            description: "Masse musculaire et force",
                            image: "https://images.unsplash.com/photo-1583500178690-db7e09b03e7e?w=400&h=600&fit=crop&crop=face"
                        },
                        {
                            value: "athletic",
                            title: "√ätre plus athl√©tique",
                            description: "Performance et endurance",
                            image: "https://images.unsplash.com/photo-1594736797933-d0401ba2fe65?w=400&h=600&fit=crop&crop=face"
                        },
                        {
                            value: "maintain",
                            title: "Maintenir ma forme",
                            description: "Stabilit√© et long√©vit√©",
                            image: "https://images.unsplash.com/photo-1506629905607-c47d3a5b3127?w=400&h=600&fit=crop&crop=face"
                        }
                    ]
                },
                {
                    id: 4,
                    type: "single_text",
                    title: "Comment te sens-tu au r√©veil ?",
                    subtitle: "Ton √©nergie matinale r√©v√®le beaucoup sur ta r√©cup√©ration",
                    answers: [
                        {
                            value: "energetic",
                            title: "√ânergique et motiv√©",
                            description: "Je saute du lit, pr√™t √† conqu√©rir le monde"
                        },
                        {
                            value: "average",
                            title: "Moyen, √ßa va",
                            description: "Pas mal apr√®s un caf√© ou deux"
                        },
                        {
                            value: "tired",
                            title: "Fatigu√©",
                            description: "J'ai du mal √† d√©marrer la journ√©e"
                        },
                        {
                            value: "exhausted",
                            title: "√âpuis√©",
                            description: "Toujours vid√©, m√™me apr√®s 8h de sommeil"
                        }
                    ]
                },
                {
                    id: 5,
                    type: "single_text",
                    title: "Ta capacit√© de concentration au travail ?",
                    subtitle: "Note-la sur 10",
                    answers: [
                        {
                            value: "9-10",
                            title: "9-10/10 - Focus de ninja",
                            description: "Concentration parfaite pendant des heures"
                        },
                        {
                            value: "7-8",
                            title: "7-8/10 - Plut√¥t bon",
                            description: "Quelques distractions mais √ßa va"
                        },
                        {
                            value: "5-6",
                            title: "5-6/10 - Variable",
                            description: "D√©pend des jours et de mon √©tat"
                        },
                        {
                            value: "1-4",
                            title: "1-4/10 - Difficile",
                            description: "Papillonnage mental constant"
                        }
                    ]
                },
                {
                    id: 6,
                    type: "single_text",
                    title: "Ton niveau de stress moyen ?",
                    subtitle: "Le stress chronique nuit √† toutes tes performances",
                    answers: [
                        {
                            value: "low",
                            title: "Faible - Zen master",
                            description: "Je g√®re, rien ne m'atteint"
                        },
                        {
                            value: "medium",
                            title: "Mod√©r√© - √áa va",
                            description: "G√©rable la plupart du temps"
                        },
                        {
                            value: "high",
                            title: "√âlev√© - Sous pression",
                            description: "Souvent stress√© par le travail"
                        },
                        {
                            value: "extreme",
                            title: "Extr√™me - Burnout",
                            description: "√Ä bout, besoin d'aide"
                        }
                    ]
                },
                {
                    id: 7,
                    type: "single_text",
                    title: "Ta routine sportive actuelle ?",
                    subtitle: "L'activit√© physique optimise toute ta biologie",
                    answers: [
                        {
                            value: "regular",
                            title: "R√©guli√®re - 4-6x/semaine",
                            description: "Sport int√©gr√© dans mon lifestyle"
                        },
                        {
                            value: "occasional",
                            title: "Occasionnelle - 2-3x/semaine",
                            description: "J'essaie de m'y tenir"
                        },
                        {
                            value: "rare",
                            title: "Rare - 1x/semaine max",
                            description: "Manque de temps/motivation"
                        },
                        {
                            value: "none",
                            title: "Inexistante",
                            description: "Pas de sport r√©gulier"
                        }
                    ]
                },
                {
                    id: 8,
                    type: "single_text",
                    title: "Combien investis-tu par an dans ton d√©veloppement perso ?",
                    subtitle: "Formation, coaching, biohacking, suppl√©ments...",
                    answers: [
                        {
                            value: "20k+",
                            title: "20k‚Ç¨+ - Investisseur premium",
                            description: "Je ne l√©sine pas sur ma performance"
                        },
                        {
                            value: "10-20k",
                            title: "10-20k‚Ç¨ - S√©rieux",
                            description: "Budget cons√©quent pour m'am√©liorer"
                        },
                        {
                            value: "3-10k",
                            title: "3-10k‚Ç¨ - Mod√©r√©",
                            description: "Quelques investissements cibl√©s"
                        },
                        {
                            value: "0-3k",
                            title: "0-3k‚Ç¨ - Minimaliste",
                            description: "Budget serr√© ou pas convaincu"
                        }
                    ]
                },
                {
                    id: 9,
                    type: "multiple_text",
                    title: "Quels outils de tracking utilises-tu ?",
                    subtitle: "Choisis tous ceux que tu utilises r√©guli√®rement",
                    answers: [
                        {
                            value: "whoop",
                            title: "Whoop",
                            description: "HRV, r√©cup√©ration, strain"
                        },
                        {
                            value: "oura",
                            title: "Oura Ring",
                            description: "Sommeil, temp√©rature, HRV"
                        },
                        {
                            value: "apple_watch",
                            title: "Apple Watch / Smartwatch",
                            description: "Activit√©, fr√©quence cardiaque"
                        },
                        {
                            value: "bloodwork",
                            title: "Analyses sanguines",
                            description: "Biomarqueurs r√©guliers"
                        },
                        {
                            value: "sleep_tracking",
                            title: "Tracking sommeil",
                            description: "Apps ou devices sp√©cialis√©s"
                        },
                        {
                            value: "none",
                            title: "Aucun tracking",
                            description: "Je me fie √† mes sensations"
                        }
                    ]
                },
                {
                    id: 10,
                    type: "single_text",
                    title: "Si tu pouvais avoir UN super-pouvoir entrepreneurial ?",
                    subtitle: "Qu'est-ce qui transformerait le plus ta performance",
                    answers: [
                        {
                            value: "unlimited_energy",
                            title: "√ânergie illimit√©e",
                            description: "Plus jamais fatigu√©, toujours √† 100%"
                        },
                        {
                            value: "perfect_focus",
                            title: "Focus parfait",
                            description: "Concentration laser sans distraction"
                        },
                        {
                            value: "instant_recovery",
                            title: "R√©cup√©ration instantan√©e",
                            description: "Recharg√© en 2h de sommeil"
                        },
                        {
                            value: "stress_immunity",
                            title: "Immunit√© au stress",
                            description: "S√©r√©nit√© absolue en toute situation"
                        }
                    ]
                }
            ]
        };

        // Variables globales
        let currentStep = 0; // Commence par la page d'intro
        let currentQuestion = 1;
        let totalQuestions = quizConfig.questions.length;
        let totalSteps = quizConfig.valuePages.length + totalQuestions + 1; // +1 pour le form contact
        let answers = {};
        let isSubmitting = false;

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            generateValuePages();
            generateQuestions();
            updateProgress();
            showCurrentStep();
        });

        // G√©n√©rer les pages d'accroche
        function generateValuePages() {
            const container = document.getElementById('questionsContainer');
            
            quizConfig.valuePages.forEach((page, index) => {
                const pageElement = document.createElement('div');
                pageElement.className = 'value-page';
                pageElement.id = `valuePage${index}`;
                
                pageElement.innerHTML = `
                    <div class="value-icon">${page.icon}</div>
                    <h2 class="value-title">${page.title}</h2>
                    <div class="value-content">${page.content}</div>
                    <div class="navigation center">
                        <button type="button" class="btn" onclick="nextStep()">Commencer</button>
                    </div>
                `;
                
                container.appendChild(pageElement);
            });
        }

        // G√©n√©rer toutes les questions
        function generateQuestions() {
            const container = document.getElementById('questionsContainer');
            
            quizConfig.questions.forEach(question => {
                const questionElement = createQuestionElement(question);
                container.appendChild(questionElement);
            });
        }

        // Cr√©er un √©l√©ment question
        function createQuestionElement(question) {
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-container';
            questionDiv.id = `question${question.id}`;

            let answersHTML = '';
            let multipleIndicator = '';

            if (question.type === 'multiple_text') {
                multipleIndicator = '<div class="multiple-choice-indicator">‚úì Plusieurs choix possibles</div>';
            }

            // G√©n√©rer les r√©ponses selon le type
            if (question.type === 'single_image') {
                answersHTML = `<div class="answers-grid-images">`;
                question.answers.forEach(answer => {
                    answersHTML += `
                        <div class="answer-card" data-value="${answer.value}" onclick="selectAnswer(this, 'single')">
                            <img src="${answer.image}" alt="${answer.title}" class="answer-image" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iMCAwIDQwMCA2MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iNjAwIiBmaWxsPSIjMDAwMzI0Ii8+Cjx0ZXh0IHg9IjIwMCIgeT0iMzAwIiBmaWxsPSIjMDFGRjAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjQwIj7wn5mMPC90ZXh0Pgo8L3N2Zz4K'" />
                            <div class="answer-content">
                                <div class="answer-title">${answer.title}</div>
                                <div class="answer-description">${answer.description}</div>
                            </div>
                        </div>
                    `;
                });
                answersHTML += `</div>`;
            } else {
                // Questions texte (single ou multiple)
                answersHTML = `<div class="answers-grid-text">`;
                question.answers.forEach(answer => {
                    const clickHandler = question.type === 'multiple_text' ? 'multiple' : 'single';
                    answersHTML += `
                        <div class="answer-option-text" data-value="${answer.value}" onclick="selectAnswer(this, '${clickHandler}')">
                            <div class="checkbox"></div>
                            <div class="answer-text-content">
                                <div class="answer-text-title">${answer.title}</div>
                                <div class="answer-text-description">${answer.description}</div>
                            </div>
                        </div>
                    `;
                });
                answersHTML += `</div>`;
            }

            // Bouton retour - invisible pour la premi√®re question
            const backButtonClass = question.id === 1 ? 'btn-invisible' : '';
            
            questionDiv.innerHTML = `
                <div class="question-header">
                    <div class="question-number">Question ${question.id}/${totalQuestions}</div>
                    <h2 class="question-title">${question.title}</h2>
                    <p class="question-subtitle">${question.subtitle}</p>
                    ${multipleIndicator}
                </div>
                ${answersHTML}
                <div class="navigation" style="display: none;">
                    <button type="button" class="btn btn-secondary ${backButtonClass}" onclick="previousStep()">Pr√©c√©dent</button>
                    <button type="button" class="btn" onclick="nextStep()" id="nextBtn${question.id}">Suivant</button>
                </div>
            `;

            return questionDiv;
        }

        // S√©lectionner une r√©ponse (CORRIG√âE)
        function selectAnswer(element, type) {
            const questionContainer = element.closest('.question-container');
            const questionId = parseInt(questionContainer.id.replace('question', ''));
            
            if (type === 'single') {
                // D√©s√©lectionner toutes les autres r√©ponses
                questionContainer.querySelectorAll('.answer-card, .answer-option-text').forEach(option => {
                    option.classList.remove('selected');
                });
                
                // S√©lectionner la r√©ponse actuelle
                element.classList.add('selected');
                
                // Sauvegarder la r√©ponse
                answers[`question${questionId}`] = element.dataset.value;
                
                // Animation et passage automatique
                setTimeout(() => {
                    nextStep();
                }, 600);
                
            } else if (type === 'multiple') {
                // Toggle selection pour choix multiples
                element.classList.toggle('selected');
                
                // Collecter toutes les r√©ponses s√©lectionn√©es
                const selectedAnswers = [];
                questionContainer.querySelectorAll('.answer-option-text.selected').forEach(selected => {
                    selectedAnswers.push(selected.dataset.value);
                });
                
                answers[`question${questionId}`] = selectedAnswers;
                
                // Afficher le bouton suivant si au moins une r√©ponse s√©lectionn√©e
                const navButtons = questionContainer.querySelector('.navigation');
                if (selectedAnswers.length > 0) {
                    navButtons.style.display = 'flex';
                } else {
                    navButtons.style.display = 'none';
                }
            }
        }

        // Afficher l'√©tape actuelle
        function showCurrentStep() {
            // Masquer tout
            document.querySelectorAll('.value-page, .question-container').forEach(container => {
                container.classList.remove('active');
            });
            document.getElementById('contactForm').classList.remove('active');
            
            if (currentStep < quizConfig.valuePages.length) {
                // Afficher page d'accroche
                document.getElementById(`valuePage${currentStep}`).classList.add('active');
            } else if (currentStep < quizConfig.valuePages.length + totalQuestions) {
                // Afficher question
                const questionIndex = currentStep - quizConfig.valuePages.length + 1;
                document.getElementById(`question${questionIndex}`).classList.add('active');
                currentQuestion = questionIndex;
            } else {
                // Afficher formulaire de contact
                document.getElementById('contactForm').classList.add('active');
            }
            
            updateProgress();
        }

        // √âtape suivante (LOGIQUE CORRIG√âE)
        function nextStep() {
            // Si on est sur la premi√®re page d'intro, aller directement aux questions
            if (currentStep === 0) {
                currentStep = quizConfig.valuePages.length; // Passer aux questions
                showCurrentStep();
                return;
            }
            
            // Si on est sur une page d'accroche interm√©diaire, continuer les questions
            if (currentStep === quizConfig.valuePages.length - 1 && quizConfig.valuePages.length > 1) {
                currentStep = quizConfig.valuePages.length + Math.floor(totalQuestions / 2);
                showCurrentStep();
                return;
            }
            
            // Progression normale
            if (currentStep < totalSteps - 1) {
                currentStep++;
                
                // V√©rifier si on doit afficher la page interm√©diaire (une seule fois)
                if (currentStep === quizConfig.valuePages.length + Math.floor(totalQuestions / 2) && quizConfig.valuePages.length > 1) {
                    // Temporairement afficher la page mid-quiz
                    const currentContainer = document.querySelector('.value-page.active, .question-container.active');
                    if (currentContainer) currentContainer.classList.remove('active');
                    
                    document.getElementById(`valuePage1`).classList.add('active'); // Page mid-quiz
                    return;
                }
                
                showCurrentStep();
            }
        }

        // √âtape pr√©c√©dente
        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                showCurrentStep();
            }
        }

        // Mettre √† jour la barre de progression
        function updateProgress() {
            const progress = (currentStep / (totalSteps - 1)) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            if (currentStep < quizConfig.valuePages.length) {
                document.getElementById('progressText').textContent = 'Intro';
            } else if (currentStep < quizConfig.valuePages.length + totalQuestions) {
                const questionNum = currentStep - quizConfig.valuePages.length + 1;
                document.getElementById('progressText').textContent = `${questionNum}/${totalQuestions}`;
            } else {
                document.getElementById('progressText').textContent = 'Contact';
            }
        }

        // Soumettre le formulaire
        async function submitForm() {
            if (isSubmitting) return;
            
            const prenom = document.getElementById('prenom').value.trim();
            const email = document.getElementById('email').value.trim();
            const mobile = document.getElementById('mobile').value.trim();
            
            if (!prenom || !email) {
                alert('Merci de remplir au minimum ton pr√©nom et email');
                return;
            }
            
            if (!isValidEmail(email)) {
                alert('Merci de saisir un email valide');
                return;
            }
            
            isSubmitting = true;
            
            // Masquer le formulaire et afficher le loading
            document.getElementById('contactForm').classList.remove('active');
            document.getElementById('loading').classList.add('active');
            
            // Pr√©parer les donn√©es avec formatage correct pour Google Sheets
            const formData = {
                prenom: prenom,
                email: email,
                mobile: mobile,
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                score: calculateScore(answers),
                // Formater les r√©ponses pour Google Sheets
                question1: answers.question1 || '',
                question2: Array.isArray(answers.question2) ? answers.question2.join(', ') : (answers.question2 || ''),
                question3: answers.question3 || '',
                question4: answers.question4 || '',
                question5: answers.question5 || '',
                question6: answers.question6 || '',
                question7: answers.question7 || '',
                question8: answers.question8 || '',
                question9: Array.isArray(answers.question9) ? answers.question9.join(', ') : (answers.question9 || ''),
                question10: answers.question10 || '',
                answersJson: JSON.stringify(answers)
            };
            
            try {
                // Envoyer vers Google Sheets
                await sendToGoogleSheets(formData);
                
                // Calculer et afficher les r√©sultats
                setTimeout(() => {
                    showResults(formData);
                }, 2500);
                
            } catch (error) {
                console.error('Erreur lors de l\'envoi:', error);
                alert('Une erreur est survenue. Merci de r√©essayer.');
                document.getElementById('loading').classList.remove('active');
                document.getElementById('contactForm').classList.add('active');
                isSubmitting = false;
            }
        }

        // Validation email
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Envoyer vers Google Sheets
        async function sendToGoogleSheets(data) {
            try {
                const response = await fetch(quizConfig.googleScriptUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                    mode: 'no-cors'
                });
                
                console.log('Donn√©es envoy√©es vers Google Sheets');
                return { success: true };
                
            } catch (error) {
                console.error('Erreur envoi:', error);
                console.log('Donn√©es √† sauvegarder:', data);
                return { success: true };
            }
        }

        // Calculer le score (algorithme d√©taill√©)
        function calculateScore(answers) {
            let score = 0;
            
            // √âNERGIE MATINALE (25 points max) - Facteur #1 de performance
            if (answers.question4 === 'energetic') score += 25;
            else if (answers.question4 === 'average') score += 15;
            else if (answers.question4 === 'tired') score += 8;
            else if (answers.question4 === 'exhausted') score += 2;
            
            // CONCENTRATION (25 points max) - Performance cognitive cruciale
            if (answers.question5 === '9-10') score += 25;
            else if (answers.question5 === '7-8') score += 18;
            else if (answers.question5 === '5-6') score += 10;
            else if (answers.question5 === '1-4') score += 3;
            
            // STRESS (20 points max) - Facteur limitant principal
            if (answers.question6 === 'low') score += 20;
            else if (answers.question6 === 'medium') score += 12;
            else if (answers.question6 === 'high') score += 6;
            else if (answers.question6 === 'extreme') score += 1;
            
            // SPORT (20 points max) - Base physiologique
            if (answers.question7 === 'regular') score += 20;
            else if (answers.question7 === 'occasional') score += 12;
            else if (answers.question7 === 'rare') score += 5;
            else if (answers.question7 === 'none') score += 0;
            
            // INVESTISSEMENT (10 points max) - Indicateur d'engagement
            if (answers.question8 === '20k+') score += 10;
            else if (answers.question8 === '10-20k') score += 8;
            else if (answers.question8 === '3-10k') score += 5;
            else if (answers.question8 === '0-3k') score += 2;
            
            return Math.min(score, 100);
        }

        // Afficher les r√©sultats
        function showResults(userData) {
            document.getElementById('loading').classList.remove('active');
            
            const resultContent = generatePersonalizedResult(userData);
            document.getElementById('resultsContent').innerHTML = resultContent;
            document.getElementById('results').classList.add('active');
        }

        // G√©n√©rer un r√©sultat personnalis√© (version am√©lior√©e)
        function generatePersonalizedResult(userData) {
            const { prenom, score } = userData;
            
            let profileType = '';
            let recommendations = [];
            let nextSteps = [];
            
            if (score >= 80) {
                profileType = '√âLITE PERFORMER üèÜ';
                recommendations = [
                    'Optimisation avanc√©e avec HRV tracking',
                    'Protocoles de biohacking premium (froid, hypoxie)',
                    'Fine-tuning hormonal et micronutriments'
                ];
                nextSteps = [
                    'Acc√®s VIP √† la communaut√© Elite',
                    'Coaching 1-on-1 haute performance',
                    'Protocoles exclusifs (valeur 2497‚Ç¨)'
                ];
            } else if (score >= 60) {
                profileType = 'ENTREPRENEUR OPTIMIS√â ‚ö°';
                recommendations = [
                    'Affinage des routines existantes',
                    'Introduction du cold therapy',
                    'Optimisation nutritionnelle cibl√©e'
                ];
                nextSteps = [
                    'Programme Entrepreneur+ (12 semaines)',
                    'Groupe mastermind mensuel',
                    'Outils de tracking avanc√©s'
                ];
            } else if (score >= 40) {
                profileType = 'POTENTIEL √Ä D√âBLOQUER üöÄ';
                recommendations = [
                    'Restructuration compl√®te du sommeil',
                    'Mise en place routine matinale puissante',
                    'Gestion du stress prioritaire'
                ];
                nextSteps = [
                    'Bootcamp Transformation (8 semaines)',
                    'Coaching hebdomadaire',
                    'Reset biologique complet'
                ];
            } else {
                profileType = 'TRANSFORMATION URGENTE üÜò';
                recommendations = [
                    'Reset total du mode de vie',
                    'Accompagnement m√©dical recommand√©',
                    'Protocole de r√©cup√©ration intensif'
                ];
                nextSteps = [
                    'Programme Renaissance (16 semaines)',
                    'Suivi m√©dical partenaire',
                    'Transformation 360¬∞ garantie'
                ];
            }
            
            return `
                <div class="results-header">
                    <h2 class="results-greeting">Salut ${prenom} ! üëã</h2>
                    <p class="results-subtext">Voici ton diagnostic complet</p>
                </div>
                
                <div class="score-card">
                    <h3 class="profile-type">${profileType}</h3>
                    <div class="score-display">
                        <span class="score-label">Score de performance :</span>
                        <span class="score-value">${score}/100</span>
                    </div>
                    <div class="score-bar-container">
                        <div class="score-bar" style="width: ${score}%;"></div>
                    </div>
                    <p class="score-explanation">Bas√© sur tes r√©ponses et notre algorithme propri√©taire</p>
                </div>
                
                <div class="results-grid">
                    <div class="results-card">
                        <h4 class="results-card-title">üéØ Tes axes prioritaires</h4>
                        <ul class="results-list">
                            ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="results-card">
                        <h4 class="results-card-title">üöÄ Tes prochaines √©tapes</h4>
                        <ul class="results-list checkmarks">
                            ${nextSteps.map(step => `<li>${step}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                
                <div class="what-next-card">
                    <h4 class="what-next-title">üéÅ Ce qui t'attend maintenant</h4>
                    <div class="what-next-grid">
                        <div class="what-next-item">‚úÖ Rapport d√©taill√© (24h)</div>
                        <div class="what-next-item">‚úÖ Protocole personnalis√© (30j)</div>
                        <div class="what-next-item">‚úÖ Communaut√© priv√©e</div>
                        <div class="what-next-item">‚úÖ Session strat√©gie offerte</div>
                    </div>
                    <p class="final-message">
                        Surveille ta bo√Æte mail - Ton upgrade commence maintenant ! üî•
                    </p>
                </div>
            `;
        }

        // Recommencer le quiz (CORRIG√âE)
        function restartQuiz() {
            currentStep = 0;
            answers = {};
            isSubmitting = false;
            hasShownMidPage = false; // Reset du flag
            
            // R√©initialiser toutes les s√©lections
            document.querySelectorAll('.answer-card, .answer-option-text').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Masquer navigations des questions multiples
            document.querySelectorAll('.question-container .navigation').forEach(nav => {
                nav.style.display = 'none';
            });
            
            // Cacher tous les containers
            document.querySelectorAll('.value-page, .question-container, .loading, .results-container').forEach(container => {
                container.classList.remove('active');
            });
            document.getElementById('contactForm').classList.remove('active');
            
            // R√©initialiser le formulaire
            document.getElementById('prenom').value = '';
            document.getElementById('email').value = '';
            document.getElementById('mobile').value = '';
            
            // Afficher la premi√®re √©tape
            showCurrentStep();
        }

        // Gestion du clavier
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const activeContainer = document.querySelector('.question-container.active');
                if (activeContainer && activeContainer.id === 'contactForm') {
                    submitForm();
                }
            }
        });

        // Analytics tracking (optionnel)
        function trackEvent(eventName, data = {}) {
            if (typeof gtag !== 'undefined') {
                gtag('event', eventName, data);
            }
            
            if (typeof fbq !== 'undefined') {
                fbq('track', eventName, data);
            }
            
            console.log('Event tracked:', eventName, data);
        }
    </script>
</body>
</html>
