
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OraLife - Découvre Ton Score de Vieillissement</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #000324;
            --accent-green: #01FF00;
            --light-gray: #F5F5F5;
            --white: #FFFFFF;
            --text-dark: #333333;
            --text-light: #666666;
            --shadow: 0 10px 30px rgba(0, 3, 36, 0.1);
            --shadow-hover: 0 15px 40px rgba(0, 3, 36, 0.15);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--light-gray);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Progress Bar Style BetterMe */
        .progress-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #E0E0E0;
            z-index: 1000;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue) 0%, var(--accent-green) 100%);
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(1, 255, 0, 0.3);
            width: 0%;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            animation: slideIn 0.4s ease-out;
            margin-top: 30px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Screen Management */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Landing Page */
        .landing {
            text-align: center;
        }

        .logo {
            font-size: 42px;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--accent-green) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            letter-spacing: -1px;
        }

        h1 {
            font-size: 32px;
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-weight: 800;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 18px;
            color: var(--text-light);
            margin-bottom: 20px;
        }

        .hook {
            background: linear-gradient(135deg, #FFE5E5 0%, #FFEDED 100%);
            border-left: 4px solid #FF4444;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 30px 0;
            font-weight: 600;
            color: #CC0000;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue) 0%, #000850 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 3, 36, 0.3);
            letter-spacing: 0.5px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(0, 3, 36, 0.4);
        }

        .btn-green {
            background: linear-gradient(135deg, var(--accent-green) 0%, #00CC00 100%);
            color: var(--primary-blue);
            font-weight: 900;
        }

        .btn-green:hover {
            box-shadow: 0 15px 40px rgba(1, 255, 0, 0.4);
        }

        .btn-back {
            background: transparent;
            color: var(--text-light);
            border: 2px solid var(--light-gray);
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            margin-top: 30px;
        }

        .btn-back:hover {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        /* Questions */
        .question-text {
            font-size: 24px;
            color: var(--primary-blue);
            margin-bottom: 30px;
            font-weight: 700;
            text-align: center;
            line-height: 1.3;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 30px 0;
        }

        .option {
            background: var(--light-gray);
            border: 2px solid transparent;
            padding: 16px 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 15px;
            font-weight: 500;
            position: relative;
        }

        .option:hover {
            background: var(--white);
            border-color: var(--accent-green);
            transform: translateX(8px);
            box-shadow: var(--shadow);
        }

        .option.selected {
            background: var(--accent-green);
            border-color: var(--primary-blue);
            color: var(--primary-blue);
            font-weight: 700;
        }

        .option.selected::after {
            content: '✓';
            position: absolute;
            right: 20px;
            font-size: 20px;
            color: var(--primary-blue);
        }

        /* Visual Options */
        .visual-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .visual-option {
            background: var(--white);
            border: 3px solid var(--light-gray);
            padding: 25px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .visual-option:hover {
            border-color: var(--accent-green);
            transform: scale(1.03);
            box-shadow: var(--shadow-hover);
        }

        .visual-option .icon {
            font-size: 48px;
            margin-bottom: 12px;
        }

        .visual-option .label {
            font-weight: 600;
            font-size: 15px;
            color: var(--primary-blue);
        }

        /* Multi-select info */
        .multi-select-info {
            text-align: center;
            color: var(--text-light);
            font-size: 14px;
            font-style: italic;
            margin-bottom: 15px;
        }

        /* WOW Breaks */
        .wow-break {
            background: linear-gradient(135deg, var(--primary-blue) 0%, #000850 100%);
            color: white;
            padding: 35px;
            border-radius: 20px;
            text-align: center;
        }

        .wow-title {
            font-size: 32px;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            line-height: 1.2;
        }

        .wow-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            line-height: 1.7;
            text-align: left;
            font-size: 14px;
        }

        .wow-stat {
            font-size: 36px;
            font-weight: 900;
            color: var(--accent-green);
            text-shadow: 0 0 30px rgba(1, 255, 0, 0.5);
            margin: 20px 0;
            text-align: center;
            line-height: 1.1;
        }

        .wow-source {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 15px;
            font-style: italic;
        }

        /* Form */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-blue);
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: 0 0 0 3px rgba(1, 255, 0, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin: 20px 0;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            accent-color: var(--accent-green);
            margin-top: 2px;
            flex-shrink: 0;
        }

        /* Results */
        .score-circle {
            width: 180px;
            height: 180px;
            margin: 25px auto;
            position: relative;
        }

        .score-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 42px;
            font-weight: 900;
            color: var(--primary-blue);
        }

        .results-details {
            background: var(--light-gray);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--white);
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes fillCircle {
            to {
                stroke-dashoffset: 0;
            }
        }

        /* Responsive */
        @media (max-width: 640px) {
            .card {
                padding: 25px;
            }
            
            .visual-options {
                grid-template-columns: 1fr;
            }
            
            .question-text {
                font-size: 20px;
            }
            
            .wow-title {
                font-size: 24px;
            }
            
            .wow-stat {
                font-size: 28px;
            }
            
            .option {
                font-size: 14px;
                padding: 14px 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-header">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="container">
        <!-- LANDING -->
        <div id="screen-0" class="screen active">
            <div class="card landing">
                <div class="logo">ORA LIFE</div>
                <h1>Découvre Ton Score de Vieillissement</h1>
                <p class="subtitle">Test scientifique gratuit - 3 minutes</p>
                <div class="hook">⚠️ 98% des gens vieillissent 2x plus vite sans le savoir</div>
                <button class="btn-primary" onclick="goToNextScreen()">
                    COMMENCER LE TEST GRATUIT
                </button>
            </div>
        </div>

        <!-- Q1: GENRE -->
        <div id="screen-1" class="screen">
            <div class="card">
                <h2 class="question-text">Tu es ?</h2>
                <div class="visual-options">
                    <div class="visual-option" onclick="answer('gender', 'homme'); goToNextScreen();">
                        <div class="icon">👨</div>
                        <div class="label">Homme</div>
                    </div>
                    <div class="visual-option" onclick="answer('gender', 'femme'); goToNextScreen();">
                        <div class="icon">👩</div>
                        <div class="label">Femme</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Q2: AGE -->
        <div id="screen-2" class="screen">
            <div class="card">
                <h2 class="question-text">Quel âge as-tu ?</h2>
                <div class="visual-options">
                    <div class="visual-option" onclick="answer('age', '18-29'); goToNextScreen();">
                        <div class="icon">🔥</div>
                        <div class="label">18-29 ans</div>
                    </div>
                    <div class="visual-option" onclick="answer('age', '30-39'); goToNextScreen();">
                        <div class="icon">💪</div>
                        <div class="label">30-39 ans</div>
                    </div>
                    <div class="visual-option" onclick="answer('age', '40-49'); goToNextScreen();">
                        <div class="icon">🎯</div>
                        <div class="label">40-49 ans</div>
                    </div>
                    <div class="visual-option" onclick="answer('age', '50+'); goToNextScreen();">
                        <div class="icon">🏆</div>
                        <div class="label">50+ ans</div>
                    </div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q3: OBJECTIF (MULTI) -->
        <div id="screen-3" class="screen">
            <div class="card">
                <h2 class="question-text">Tes objectifs prioritaires ?</h2>
                <p class="multi-select-info">Choisis jusqu'à 3 options</p>
                <div class="options" id="objectives-options">
                    <div class="option" onclick="toggleMultiSelect('objectives', 'Énergie illimitée', this, 3)">⚡ Énergie illimitée</div>
                    <div class="option" onclick="toggleMultiSelect('objectives', 'Corps optimal', this, 3)">💪 Corps optimal</div>
                    <div class="option" onclick="toggleMultiSelect('objectives', 'Mental sharp', this, 3)">🧠 Mental sharp</div>
                    <div class="option" onclick="toggleMultiSelect('objectives', 'Longévité maximale', this, 3)">⏰ Longévité maximale</div>
                    <div class="option" onclick="toggleMultiSelect('objectives', 'Sommeil réparateur', this, 3)">😴 Sommeil réparateur</div>
                    <div class="option" onclick="toggleMultiSelect('objectives', 'Zéro stress', this, 3)">🧘 Zéro stress</div>
                </div>
                <button class="btn-primary" onclick="if(validateMultiSelect('objectives')) goToNextScreen();" style="width: 100%; margin-top: 20px;">
                    CONTINUER →
                </button>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q4: ÉNERGIE vs 3 ANS -->
        <div id="screen-4" class="screen">
            <div class="card">
                <h2 class="question-text">Comparé à il y a 3 ans, ton énergie c'est :</h2>
                <div class="options">
                    <div class="option" onclick="answer('energy_vs_3years', 'Mieux qu\'avant'); goToNextScreen();">Mieux qu'avant</div>
                    <div class="option" onclick="answer('energy_vs_3years', 'Identique'); goToNextScreen();">Identique</div>
                    <div class="option" onclick="answer('energy_vs_3years', '-20% environ'); goToNextScreen();">-20% environ</div>
                    <div class="option" onclick="answer('energy_vs_3years', '-40% environ'); goToNextScreen();">-40% environ</div>
                    <div class="option" onclick="answer('energy_vs_3years', '-60% ou plus'); goToNextScreen();">-60% ou plus</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q5: DERNIÈRE FOIS À 100% -->
        <div id="screen-5" class="screen">
            <div class="card">
                <h2 class="question-text">La dernière fois que tu t'es senti(e) à 100% :</h2>
                <div class="options">
                    <div class="option" onclick="answer('last_100_percent', 'Cette semaine'); goToNextScreen();">Cette semaine</div>
                    <div class="option" onclick="answer('last_100_percent', 'Ce mois-ci'); goToNextScreen();">Ce mois-ci</div>
                    <div class="option" onclick="answer('last_100_percent', 'Cette année'); goToNextScreen();">Cette année</div>
                    <div class="option" onclick="answer('last_100_percent', 'L\'année dernière'); goToNextScreen();">L'année dernière</div>
                    <div class="option" onclick="answer('last_100_percent', 'Je ne sais plus'); goToNextScreen();">Je ne sais plus</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q6: BLOCAGE -->
        <div id="screen-6" class="screen">
            <div class="card">
                <h2 class="question-text">Ce qui t'a empêché de changer jusqu'ici :</h2>
                <div class="options">
                    <div class="option" onclick="answer('change_blocker', 'Trop d\'infos contradictoires'); goToNextScreen();">Trop d'infos contradictoires</div>
                    <div class="option" onclick="answer('change_blocker', 'Manque de temps'); goToNextScreen();">Manque de temps</div>
                    <div class="option" onclick="answer('change_blocker', 'J\'ai essayé sans résultats'); goToNextScreen();">J'ai essayé sans résultats</div>
                    <div class="option" onclick="answer('change_blocker', 'Trop cher'); goToNextScreen();">Trop cher</div>
                    <div class="option" onclick="answer('change_blocker', 'Je ne savais pas comment'); goToNextScreen();">Je ne savais pas comment</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q7: ESCALIER -->
        <div id="screen-7" class="screen">
            <div class="card">
                <h2 class="question-text">Test de l'escalier (2 étages sans pause) :</h2>
                <div class="options">
                    <div class="option" onclick="answer('stairs_test', 'Facile, en parlant'); goToNextScreen();">Facile, en parlant</div>
                    <div class="option" onclick="answer('stairs_test', 'Léger essoufflement'); goToNextScreen();">Léger essoufflement</div>
                    <div class="option" onclick="answer('stairs_test', 'Besoin de reprendre mon souffle'); goToNextScreen();">Besoin de reprendre mon souffle</div>
                    <div class="option" onclick="answer('stairs_test', 'Très difficile'); goToNextScreen();">Très difficile</div>
                    <div class="option" onclick="answer('stairs_test', 'J\'évite les escaliers'); goToNextScreen();">J'évite les escaliers</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q8: HEURES ASSIS -->
        <div id="screen-8" class="screen">
            <div class="card">
                <h2 class="question-text">Heures assis par jour :</h2>
                <div class="options">
                    <div class="option" onclick="answer('sitting_hours', 'Moins de 4h'); goToNextScreen();">Moins de 4h</div>
                    <div class="option" onclick="answer('sitting_hours', '4-6h'); goToNextScreen();">4-6h</div>
                    <div class="option" onclick="answer('sitting_hours', '6-8h'); goToNextScreen();">6-8h</div>
                    <div class="option" onclick="answer('sitting_hours', '8-10h'); goToNextScreen();">8-10h</div>
                    <div class="option" onclick="answer('sitting_hours', 'Plus de 10h'); goToNextScreen();">Plus de 10h</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- WOW BREAK 1 -->
        <div id="screen-wow1" class="screen">
            <div class="card wow-break">
                <div class="wow-title">🪑 TA CHAISE TE TUE</div>
                <div class="wow-content">
                    <div class="wow-stat">10h assis = +52% mortalité</div>
                    <p style="text-align: center; font-size: 16px; margin: 15px 0;">
                        <strong>MÊME avec du sport !</strong>
                    </p>
                    <p><strong>📊 Meta-analyse massive</strong></p>
                    <p>595,086 adultes suivis - PLoS ONE (2013)</p>
                    <br>
                    <p>• 4h assis : Normal</p>
                    <p>• 7h : +5% mortalité</p>
                    <p>• 10h : +34% (AVEC sport)</p>
                    <p>• 10h : +52% (SANS sport)</p>
                    <br>
                    <p style="color: var(--accent-green); font-weight: 700;">
                        ⚠️ 150min sport/semaine ne compense PAS
                    </p>
                    <div class="wow-source">Source : ncbi.nlm.nih.gov/pmc/articles/PMC3827429/</div>
                </div>
                <button class="btn-primary btn-green" onclick="goToNextScreen()">
                    CONTINUER LE TEST →
                </button>
            </div>
        </div>

        <!-- Q9: SOMMEIL -->
        <div id="screen-9" class="screen">
            <div class="card">
                <h2 class="question-text">Réveils nocturnes par nuit :</h2>
                <div class="options">
                    <div class="option" onclick="answer('night_wakeups', '0 (sommeil parfait)'); goToNextScreen();">0 (sommeil parfait)</div>
                    <div class="option" onclick="answer('night_wakeups', '1 fois'); goToNextScreen();">1 fois</div>
                    <div class="option" onclick="answer('night_wakeups', '2-3 fois'); goToNextScreen();">2-3 fois</div>
                    <div class="option" onclick="answer('night_wakeups', '4+ fois'); goToNextScreen();">4+ fois</div>
                    <div class="option" onclick="answer('night_wakeups', 'Insomnie chronique'); goToNextScreen();">Insomnie chronique</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q10: CYCLE/LIBIDO (Conditionnel) -->
        <div id="screen-10" class="screen">
            <div class="card">
                <h2 class="question-text" id="q10-text">Question spécifique</h2>
                <div class="options" id="q10-options"></div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q11: CRASH -->
        <div id="screen-11" class="screen">
            <div class="card">
                <h2 class="question-text">Ton premier crash énergétique arrive :</h2>
                <div class="options">
                    <div class="option" onclick="answer('first_crash', 'Jamais'); goToNextScreen();">Jamais</div>
                    <div class="option" onclick="answer('first_crash', 'Après 17h'); goToNextScreen();">Après 17h</div>
                    <div class="option" onclick="answer('first_crash', 'Vers 14h-15h'); goToNextScreen();">Vers 14h-15h</div>
                    <div class="option" onclick="answer('first_crash', 'Juste après le déjeuner'); goToNextScreen();">Juste après le déjeuner</div>
                    <div class="option" onclick="answer('first_crash', 'Dès le matin'); goToNextScreen();">Dès le matin</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q12: POIDS -->
        <div id="screen-12" class="screen">
            <div class="card">
                <h2 class="question-text">Ton poids vs ton idéal :</h2>
                <div class="options">
                    <div class="option" onclick="answer('weight_vs_ideal', 'Parfait'); goToNextScreen();">Parfait</div>
                    <div class="option" onclick="answer('weight_vs_ideal', '+2-5 kg'); goToNextScreen();">+2-5 kg</div>
                    <div class="option" onclick="answer('weight_vs_ideal', '+5-10 kg'); goToNextScreen();">+5-10 kg</div>
                    <div class="option" onclick="answer('weight_vs_ideal', '+10-15 kg'); goToNextScreen();">+10-15 kg</div>
                    <div class="option" onclick="answer('weight_vs_ideal', '+15 kg ou plus'); goToNextScreen();">+15 kg ou plus</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q13: DIGESTION -->
        <div id="screen-13" class="screen">
            <div class="card">
                <h2 class="question-text">Ta digestion au quotidien :</h2>
                <div class="options">
                    <div class="option" onclick="answer('digestion', 'Parfaite comme une horloge'); goToNextScreen();">Parfaite comme une horloge</div>
                    <div class="option" onclick="answer('digestion', 'Quelques inconforts occasionnels'); goToNextScreen();">Quelques inconforts occasionnels</div>
                    <div class="option" onclick="answer('digestion', 'Ballonnements fréquents'); goToNextScreen();">Ballonnements fréquents</div>
                    <div class="option" onclick="answer('digestion', 'Problèmes quotidiens'); goToNextScreen();">Problèmes quotidiens</div>
                    <div class="option" onclick="answer('digestion', 'Chaos intestinal permanent'); goToNextScreen();">Chaos intestinal permanent</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- WOW BREAK 2 -->
        <div id="screen-wow2" class="screen">
            <div class="card wow-break">
                <div class="wow-title">🧠 TON VENTRE CONTRÔLE TON CERVEAU</div>
                <div class="wow-content">
                    <div class="wow-stat">95% sérotonine = intestin</div>
                    <p style="text-align: center; font-size: 16px; margin: 15px 0;">
                        <strong>Ton bonheur vient du ventre !</strong>
                    </p>
                    <p><strong>📊 Étude révolutionnaire</strong></p>
                    <p>Nature Microbiology (2023) - 1,054 participants</p>
                    <br>
                    <p><strong>Intestin déréglé =</strong></p>
                    <p>😔 +43% risque dépression</p>
                    <p>😰 +38% anxiété chronique</p>
                    <p>🔥 +52% inflammation</p>
                    <br>
                    <p style="color: var(--accent-green); font-weight: 700;">
                        ✅ 3 semaines de probiotiques = humeur transformée
                    </p>
                    <div class="wow-source">Source : nature.com/articles/s41564-023-01339-5</div>
                </div>
                <button class="btn-primary btn-green" onclick="goToNextScreen()">
                    CONTINUER LE TEST →
                </button>
            </div>
        </div>

        <!-- Q14: DOULEURS ARTICULAIRES -->
        <div id="screen-14" class="screen">
            <div class="card">
                <h2 class="question-text">Douleurs articulaires :</h2>
                <div class="options">
                    <div class="option" onclick="answer('joint_pain', 'Jamais'); goToNextScreen();">Jamais</div>
                    <div class="option" onclick="answer('joint_pain', 'Après effort intense uniquement'); goToNextScreen();">Après effort intense uniquement</div>
                    <div class="option" onclick="answer('joint_pain', 'Le matin au réveil'); goToNextScreen();">Le matin au réveil</div>
                    <div class="option" onclick="answer('joint_pain', 'Régulièrement dans la journée'); goToNextScreen();">Régulièrement dans la journée</div>
                    <div class="option" onclick="answer('joint_pain', 'Douleurs chroniques permanentes'); goToNextScreen();">Douleurs chroniques permanentes</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q15: MÉMOIRE -->
        <div id="screen-15" class="screen">
            <div class="card">
                <h2 class="question-text">Ta mémoire et concentration :</h2>
                <div class="options">
                    <div class="option" onclick="answer('memory_focus', 'Excellentes'); goToNextScreen();">Excellentes</div>
                    <div class="option" onclick="answer('memory_focus', 'Quelques oublis mineurs'); goToNextScreen();">Quelques oublis mineurs</div>
                    <div class="option" onclick="answer('memory_focus', 'Difficultés fréquentes'); goToNextScreen();">Difficultés fréquentes</div>
                    <div class="option" onclick="answer('memory_focus', 'Brouillard mental régulier'); goToNextScreen();">Brouillard mental régulier</div>
                    <div class="option" onclick="answer('memory_focus', 'Très inquiétant'); goToNextScreen();">Très inquiétant</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q16: SYMPTÔMES/MUSCLE (Conditionnel) -->
        <div id="screen-16" class="screen">
            <div class="card">
                <h2 class="question-text" id="q16-text">Question spécifique</h2>
                <div class="options" id="q16-options"></div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q17: RÉCUPÉRATION -->
        <div id="screen-17" class="screen">
            <div class="card">
                <h2 class="question-text">Récupération après effort physique :</h2>
                <div class="options">
                    <div class="option" onclick="answer('recovery', 'Moins de 24h'); goToNextScreen();">Moins de 24h</div>
                    <div class="option" onclick="answer('recovery', '24-48h'); goToNextScreen();">24-48h</div>
                    <div class="option" onclick="answer('recovery', '2-3 jours'); goToNextScreen();">2-3 jours</div>
                    <div class="option" onclick="answer('recovery', '4-7 jours'); goToNextScreen();">4-7 jours</div>
                    <div class="option" onclick="answer('recovery', 'Plus d\'une semaine'); goToNextScreen();">Plus d'une semaine</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q18: STRESS -->
        <div id="screen-18" class="screen">
            <div class="card">
                <h2 class="question-text">Niveau de stress chronique :</h2>
                <div class="options">
                    <div class="option" onclick="answer('stress_level', 'Zen permanent'); goToNextScreen();">Zen permanent</div>
                    <div class="option" onclick="answer('stress_level', 'Gérable la plupart du temps'); goToNextScreen();">Gérable la plupart du temps</div>
                    <div class="option" onclick="answer('stress_level', 'Élevé régulièrement'); goToNextScreen();">Élevé régulièrement</div>
                    <div class="option" onclick="answer('stress_level', 'Très élevé quotidiennement'); goToNextScreen();">Très élevé quotidiennement</div>
                    <div class="option" onclick="answer('stress_level', 'Mode survie/burnout'); goToNextScreen();">Mode survie/burnout</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q19: PEAU -->
        <div id="screen-19" class="screen">
            <div class="card">
                <h2 class="question-text">Qualité de ta peau :</h2>
                <div class="options">
                    <div class="option" onclick="answer('skin_quality', 'Éclatante et ferme'); goToNextScreen();">Éclatante et ferme</div>
                    <div class="option" onclick="answer('skin_quality', 'Correcte pour mon âge'); goToNextScreen();">Correcte pour mon âge</div>
                    <div class="option" onclick="answer('skin_quality', 'Terne et fatiguée'); goToNextScreen();">Terne et fatiguée</div>
                    <div class="option" onclick="answer('skin_quality', 'Rides marquées'); goToNextScreen();">Rides marquées</div>
                    <div class="option" onclick="answer('skin_quality', 'Très vieillie prématurément'); goToNextScreen();">Très vieillie prématurément</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q20: ENVIRONNEMENT -->
        <div id="screen-20" class="screen">
            <div class="card">
                <h2 class="question-text">Ton environnement principal :</h2>
                <div class="options">
                    <div class="option" onclick="answer('living_environment', 'Nature/campagne (air pur)'); goToNextScreen();">Nature/campagne (air pur)</div>
                    <div class="option" onclick="answer('living_environment', 'Petite ville (<50k habitants)'); goToNextScreen();">Petite ville (<50k habitants)</div>
                    <div class="option" onclick="answer('living_environment', 'Ville moyenne (50-200k)'); goToNextScreen();">Ville moyenne (50-200k)</div>
                    <div class="option" onclick="answer('living_environment', 'Grande ville (200k-1M)'); goToNextScreen();">Grande ville (200k-1M)</div>
                    <div class="option" onclick="answer('living_environment', 'Mégapole (Paris, Lyon, Marseille)'); goToNextScreen();">Mégapole (Paris, Lyon, Marseille)</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- WOW BREAK 3 -->
        <div id="screen-wow3" class="screen">
            <div class="card wow-break">
                <div class="wow-title">🏙️ L'AIR QUI TUE</div>
                <div class="wow-content">
                    <div class="wow-stat">Ville = -2.2 ans de vie</div>
                    <p style="text-align: center; font-size: 16px; margin: 15px 0;">
                        <strong>7 millions de morts/an</strong>
                    </p>
                    <p><strong>📊 The Lancet (2022)</strong></p>
                    <p>PM2.5 > 10 μg/m³ =</p>
                    <p>❤️ +15% maladies cardiaques</p>
                    <p>🧠 +25% déclin cognitif</p>
                    <p>🔥 +30% inflammation</p>
                    <br>
                    <p><strong>📍 Niveaux PM2.5 :</strong></p>
                    <p>• Paris : 15-20 μg/m³</p>
                    <p>• Lyon : 18-22 μg/m³</p>
                    <p>• Campagne : 5-8 μg/m³</p>
                    <div class="wow-source">Source : thelancet.com/journals/lanplh</div>
                </div>
                <button class="btn-primary btn-green" onclick="goToNextScreen()">
                    CONTINUER LE TEST →
                </button>
            </div>
        </div>

        <!-- Q21: SOLEIL -->
        <div id="screen-21" class="screen">
            <div class="card">
                <h2 class="question-text">Exposition soleil sans protection :</h2>
                <div class="options">
                    <div class="option" onclick="answer('sun_exposure', '30min+ quotidien'); goToNextScreen();">30min+ quotidien</div>
                    <div class="option" onclick="answer('sun_exposure', '15-30min régulier'); goToNextScreen();">15-30min régulier</div>
                    <div class="option" onclick="answer('sun_exposure', 'Quelques fois/semaine'); goToNextScreen();">Quelques fois/semaine</div>
                    <div class="option" onclick="answer('sun_exposure', 'Rarement'); goToNextScreen();">Rarement</div>
                    <div class="option" onclick="answer('sun_exposure', 'Jamais (vampire mode)'); goToNextScreen();">Jamais (vampire mode)</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q22: NATURE -->
        <div id="screen-22" class="screen">
            <div class="card">
                <h2 class="question-text">Temps en nature par semaine :</h2>
                <div class="options">
                    <div class="option" onclick="answer('nature_time', 'Plus de 10h'); goToNextScreen();">Plus de 10h</div>
                    <div class="option" onclick="answer('nature_time', '5-10h'); goToNextScreen();">5-10h</div>
                    <div class="option" onclick="answer('nature_time', '2-5h'); goToNextScreen();">2-5h</div>
                    <div class="option" onclick="answer('nature_time', 'Moins de 2h'); goToNextScreen();">Moins de 2h</div>
                    <div class="option" onclick="answer('nature_time', 'Zéro'); goToNextScreen();">Zéro</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q23: QUALITÉ SOMMEIL -->
        <div id="screen-23" class="screen">
            <div class="card">
                <h2 class="question-text">Qualité de ton sommeil :</h2>
                <div class="options">
                    <div class="option" onclick="answer('sleep_quality', '7-9h de sommeil profond'); goToNextScreen();">7-9h de sommeil profond</div>
                    <div class="option" onclick="answer('sleep_quality', '6-7h correct'); goToNextScreen();">6-7h correct</div>
                    <div class="option" onclick="answer('sleep_quality', '5-6h léger et fragmenté'); goToNextScreen();">5-6h léger et fragmenté</div>
                    <div class="option" onclick="answer('sleep_quality', 'Moins de 5h'); goToNextScreen();">Moins de 5h</div>
                    <div class="option" onclick="answer('sleep_quality', 'Insomnie chronique'); goToNextScreen();">Insomnie chronique</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q24: HEURE COUCHER -->
        <div id="screen-24" class="screen">
            <div class="card">
                <h2 class="question-text">Heure habituelle du coucher :</h2>
                <div class="options">
                    <div class="option" onclick="answer('bedtime', 'Avant 22h'); goToNextScreen();">Avant 22h</div>
                    <div class="option" onclick="answer('bedtime', '22h-23h'); goToNextScreen();">22h-23h</div>
                    <div class="option" onclick="answer('bedtime', '23h-minuit'); goToNextScreen();">23h-minuit</div>
                    <div class="option" onclick="answer('bedtime', 'Minuit-1h'); goToNextScreen();">Minuit-1h</div>
                    <div class="option" onclick="answer('bedtime', 'Après 1h du matin'); goToNextScreen();">Après 1h du matin</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q25: ÉCRANS -->
        <div id="screen-25" class="screen">
            <div class="card">
                <h2 class="question-text">Écrans avant de dormir :</h2>
                <div class="options">
                    <div class="option" onclick="answer('screens_before_bed', 'Jamais (coupure 2h avant)'); goToNextScreen();">Jamais (coupure 2h avant)</div>
                    <div class="option" onclick="answer('screens_before_bed', 'Avec lunettes anti-lumière bleue'); goToNextScreen();">Avec lunettes anti-lumière bleue</div>
                    <div class="option" onclick="answer('screens_before_bed', 'Parfois'); goToNextScreen();">Parfois</div>
                    <div class="option" onclick="answer('screens_before_bed', 'Toujours'); goToNextScreen();">Toujours</div>
                    <div class="option" onclick="answer('screens_before_bed', 'Jusqu\'au lit'); goToNextScreen();">Jusqu'au lit</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q26: PETIT-DÉJ -->
        <div id="screen-26" class="screen">
            <div class="card">
                <h2 class="question-text">Ton petit-déjeuner type :</h2>
                <div class="options">
                    <div class="option" onclick="answer('breakfast', 'Jeûne intermittent'); goToNextScreen();">Jeûne intermittent</div>
                    <div class="option" onclick="answer('breakfast', 'Protéines + bons gras'); goToNextScreen();">Protéines + bons gras</div>
                    <div class="option" onclick="answer('breakfast', 'Céréales complètes + fruits'); goToNextScreen();">Céréales complètes + fruits</div>
                    <div class="option" onclick="answer('breakfast', 'Sucré (pain blanc, confiture)'); goToNextScreen();">Sucré (pain blanc, confiture)</div>
                    <div class="option" onclick="answer('breakfast', 'Juste café/rien'); goToNextScreen();">Juste café/rien</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q27: HYDRATATION -->
        <div id="screen-27" class="screen">
            <div class="card">
                <h2 class="question-text">Hydratation quotidienne (eau pure) :</h2>
                <div class="options">
                    <div class="option" onclick="answer('hydration', '2L+ religieusement'); goToNextScreen();">2L+ religieusement</div>
                    <div class="option" onclick="answer('hydration', '1.5-2L'); goToNextScreen();">1.5-2L</div>
                    <div class="option" onclick="answer('hydration', '1-1.5L'); goToNextScreen();">1-1.5L</div>
                    <div class="option" onclick="answer('hydration', 'Moins d\'1L'); goToNextScreen();">Moins d'1L</div>
                    <div class="option" onclick="answer('hydration', 'Principalement café/sodas'); goToNextScreen();">Principalement café/sodas</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q28: ALCOOL -->
        <div id="screen-28" class="screen">
            <div class="card">
                <h2 class="question-text">Consommation d'alcool par semaine :</h2>
                <div class="options">
                    <div class="option" onclick="answer('alcohol', '0 (jamais)'); goToNextScreen();">0 (jamais)</div>
                    <div class="option" onclick="answer('alcohol', '1-3 verres'); goToNextScreen();">1-3 verres</div>
                    <div class="option" onclick="answer('alcohol', '4-7 verres (1/jour)'); goToNextScreen();">4-7 verres (1/jour)</div>
                    <div class="option" onclick="answer('alcohol', '8-14 verres (2/jour)'); goToNextScreen();">8-14 verres (2/jour)</div>
                    <div class="option" onclick="answer('alcohol', '15+ verres'); goToNextScreen();">15+ verres</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- WOW BREAK 4 MODIFIÉ -->
        <div id="screen-wow4" class="screen">
            <div class="card wow-break">
                <div class="wow-title">💊 LE SUPER-POUVOIR CACHÉ</div>
                <div class="wow-content">
                    <div class="wow-stat">NAD+ : -50% à 50 ans</div>
                    <p style="text-align: center; font-size: 16px; margin: 15px 0;">
                        <strong>La molécule qui contrôle TOUT</strong>
                    </p>
                    <p><strong>📊 Cell (2024)</strong></p>
                    <p>Le NAD+ contrôle :</p>
                    <p>⚡ Production d'énergie cellulaire</p>
                    <p>🧬 Réparation de l'ADN</p>
                    <p>🔄 Régénération cellulaire</p>
                    <p>🧠 Fonction cognitive</p>
                    <br>
                    <p><strong>Comment booster ton NAD+ :</strong></p>
                    <p>• Jeûne intermittent : +30%</p>
                    <p>• HIIT : +25%</p>
                    <p>• Sauna : +20%</p>
                    <p>• NMN/NR : +40-60%</p>
                    <br>
                    <p style="color: var(--accent-green); font-weight: 700;">
                        David Sinclair (Harvard) : "NAD+ = bouton reset du vieillissement"
                    </p>
                    <div class="wow-source">Source : cell.com/cell/fulltext/S0092-8674(24)</div>
                </div>
                <button class="btn-primary btn-green" onclick="goToNextScreen()">
                    CONTINUER LE TEST →
                </button>
            </div>
        </div>

        <!-- Q29: ACTIVITÉ PHYSIQUE (MULTI) -->
        <div id="screen-29" class="screen">
            <div class="card">
                <h2 class="question-text">Tes activités physiques régulières ?</h2>
                <p class="multi-select-info">Choisis toutes celles que tu pratiques</p>
                <div class="options" id="activities-options">
                    <div class="option" onclick="toggleMultiSelect('activities', 'Course à pied', this)">🏃 Course à pied</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Musculation', this)">💪 Musculation</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'HIIT/CrossFit', this)">🔥 HIIT/CrossFit</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Yoga/Pilates', this)">🧘 Yoga/Pilates</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Natation', this)">🏊 Natation</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Vélo', this)">🚴 Vélo</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Marche active', this)">🚶 Marche active</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Sports collectifs', this)">⚽ Sports collectifs</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Arts martiaux', this)">🥋 Arts martiaux</div>
                    <div class="option" onclick="toggleMultiSelect('activities', 'Aucune activité', this)">❌ Aucune activité</div>
                </div>
                <button class="btn-primary" onclick="if(validateMultiSelect('activities')) goToNextScreen();" style="width: 100%; margin-top: 20px;">
                    CONTINUER →
                </button>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q30: FRÉQUENCE SPORT -->
        <div id="screen-30" class="screen">
            <div class="card">
                <h2 class="question-text">Fréquence d'activité physique :</h2>
                <div class="options">
                    <div class="option" onclick="answer('sport_frequency', 'Tous les jours'); goToNextScreen();">Tous les jours</div>
                    <div class="option" onclick="answer('sport_frequency', '4-6 fois/semaine'); goToNextScreen();">4-6 fois/semaine</div>
                    <div class="option" onclick="answer('sport_frequency', '2-3 fois/semaine'); goToNextScreen();">2-3 fois/semaine</div>
                    <div class="option" onclick="answer('sport_frequency', '1 fois/semaine'); goToNextScreen();">1 fois/semaine</div>
                    <div class="option" onclick="answer('sport_frequency', 'Rarement ou jamais'); goToNextScreen();">Rarement ou jamais</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q31: COMPLÉMENTS -->
        <div id="screen-31" class="screen">
            <div class="card">
                <h2 class="question-text">Compléments alimentaires :</h2>
                <div class="options">
                    <div class="option" onclick="answer('supplements', 'Protocole complet personnalisé'); goToNextScreen();">Protocole complet personnalisé</div>
                    <div class="option" onclick="answer('supplements', 'Basiques (Vit D, Omega 3, Magnésium)'); goToNextScreen();">Basiques (Vit D, Omega 3, Magnésium)</div>
                    <div class="option" onclick="answer('supplements', 'Occasionnels'); goToNextScreen();">Occasionnels</div>
                    <div class="option" onclick="answer('supplements', 'Jamais'); goToNextScreen();">Jamais</div>
                    <div class="option" onclick="answer('supplements', 'Je ne sais pas quoi prendre'); goToNextScreen();">Je ne sais pas quoi prendre</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q32: TRACKING (MULTI) -->
        <div id="screen-32" class="screen">
            <div class="card">
                <h2 class="question-text">Outils de tracking santé ?</h2>
                <p class="multi-select-info">Choisis tous ceux que tu utilises</p>
                <div class="options" id="tracking-options">
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Apple Watch', this)">⌚ Apple Watch</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Garmin', this)">⌚ Garmin</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Whoop', this)">📊 Whoop</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Oura Ring', this)">💍 Oura Ring</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Fitbit', this)">📱 Fitbit</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Apps mobiles', this)">📲 Apps mobiles</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Balance connectée', this)">⚖️ Balance connectée</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Tensiomètre', this)">💓 Tensiomètre</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Glucomètre', this)">🩸 Glucomètre</div>
                    <div class="option" onclick="toggleMultiSelect('tracking', 'Aucun', this)">❌ Aucun</div>
                </div>
                <button class="btn-primary" onclick="if(validateMultiSelect('tracking')) goToNextScreen();" style="width: 100%; margin-top: 20px;">
                    CONTINUER →
                </button>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q33: CHARGE/PRESSION (Conditionnel) -->
        <div id="screen-33" class="screen">
            <div class="card">
                <h2 class="question-text" id="q33-text">Question spécifique</h2>
                <div class="options" id="q33-options"></div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q34: RELATIONS -->
        <div id="screen-34" class="screen">
            <div class="card">
                <h2 class="question-text">Relations sociales épanouissantes :</h2>
                <div class="options">
                    <div class="option" onclick="answer('social_relations', 'Très riches et nombreuses'); goToNextScreen();">Très riches et nombreuses</div>
                    <div class="option" onclick="answer('social_relations', 'Satisfaisantes'); goToNextScreen();">Satisfaisantes</div>
                    <div class="option" onclick="answer('social_relations', 'Limitées'); goToNextScreen();">Limitées</div>
                    <div class="option" onclick="answer('social_relations', 'Difficiles/conflictuelles'); goToNextScreen();">Difficiles/conflictuelles</div>
                    <div class="option" onclick="answer('social_relations', 'Isolement social'); goToNextScreen();">Isolement social</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>
<!-- Q35: VACANCES (suite) -->
        <div id="screen-35" class="screen">
            <div class="card">
                <h2 class="question-text">Dernières vacances vraiment déconnectées :</h2>
                <div class="options">
                    <div class="option" onclick="answer('last_vacation', 'Il y a moins de 3 mois'); goToNextScreen();">Il y a moins de 3 mois</div>
                    <div class="option" onclick="answer('last_vacation', '3-6 mois'); goToNextScreen();">3-6 mois</div>
                    <div class="option" onclick="answer('last_vacation', '6-12 mois'); goToNextScreen();">6-12 mois</div>
                    <div class="option" onclick="answer('last_vacation', 'Plus d\'un an'); goToNextScreen();">Plus d'un an</div>
                    <div class="option" onclick="answer('last_vacation', 'Je ne déconnecte jamais'); goToNextScreen();">Je ne déconnecte jamais</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q36: PROJECTION 5 ANS -->
        <div id="screen-36" class="screen">
            <div class="card">
                <h2 class="question-text">Sans changement, dans 5 ans tu seras :</h2>
                <div class="options">
                    <div class="option" onclick="answer('projection_5years', 'En meilleure forme (j\'optimise déjà)'); goToNextScreen();">En meilleure forme (j'optimise déjà)</div>
                    <div class="option" onclick="answer('projection_5years', 'Stable (stagnation)'); goToNextScreen();">Stable (stagnation)</div>
                    <div class="option" onclick="answer('projection_5years', 'Diminué(e) de 20%'); goToNextScreen();">Diminué(e) de 20%</div>
                    <div class="option" onclick="answer('projection_5years', 'Très diminué(e) de 40%'); goToNextScreen();">Très diminué(e) de 40%</div>
                    <div class="option" onclick="answer('projection_5years', 'J\'ai peur d\'y penser'); goToNextScreen();">J'ai peur d'y penser</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- WOW BREAK 5 MODIFIÉ (CSP au lieu de diplômes) -->
        <div id="screen-wow5" class="screen">
            <div class="card wow-break">
                <div class="wow-title">💼 L'INÉGALITÉ FACE À LA MORT</div>
                <div class="wow-content">
                    <div class="wow-stat">Cadre = +7 ans de vie</div>
                    <p style="text-align: center; font-size: 16px; margin: 15px 0;">
                        <strong>INSEE 2023 - France</strong>
                    </p>
                    <p><strong>Espérance de vie selon CSP :</strong></p>
                    <p>👔 Cadres supérieurs : 85 ans</p>
                    <p>💼 Professions intermédiaires : 82 ans</p>
                    <p>🔧 Ouvriers : 78 ans</p>
                    <p>🏭 Ouvriers non qualifiés : 76 ans</p>
                    <br>
                    <p><strong>Pourquoi cette différence ?</strong></p>
                    <p>• Stress physique vs mental</p>
                    <p>• Accès aux soins</p>
                    <p>• Conditions de travail</p>
                    <p>• Habitudes de vie</p>
                    <br>
                    <p><strong>MAIS tu peux changer ça :</strong></p>
                    <p style="color: var(--accent-green); font-weight: 700;">
                        5 habitudes = égalise les chances !
                    </p>
                    <div class="wow-source">Source : insee.fr/fr/statistiques/6687000</div>
                </div>
                <button class="btn-primary btn-green" onclick="goToNextScreen()">
                    CONTINUER LE TEST →
                </button>
            </div>
        </div>

        <!-- Q37: PLUS GRANDE PEUR -->
        <div id="screen-37" class="screen">
            <div class="card">
                <h2 class="question-text">Ta plus grande peur santé :</h2>
                <div class="options">
                    <div class="option" onclick="answer('biggest_fear', 'AVC/Crise cardiaque'); goToNextScreen();">AVC/Crise cardiaque</div>
                    <div class="option" onclick="answer('biggest_fear', 'Cancer'); goToNextScreen();">Cancer</div>
                    <div class="option" onclick="answer('biggest_fear', 'Alzheimer/Démence'); goToNextScreen();">Alzheimer/Démence</div>
                    <div class="option" onclick="answer('biggest_fear', 'Dépendance physique'); goToNextScreen();">Dépendance physique</div>
                    <div class="option" onclick="answer('biggest_fear', 'Mourir avant la retraite'); goToNextScreen();">Mourir avant la retraite</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q38: MOTIVATION (MULTI) -->
        <div id="screen-38" class="screen">
            <div class="card">
                <h2 class="question-text">Ce qui te motive VRAIMENT à changer ?</h2>
                <p class="multi-select-info">Choisis jusqu'à 3 motivations principales</p>
                <div class="options" id="motivations-options">
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Voir mes petits-enfants grandir', this, 3)">👶 Voir mes petits-enfants grandir</div>
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Rester autonome jusqu\'au bout', this, 3)">🏃 Rester autonome jusqu'au bout</div>
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Continuer à performer', this, 3)">🚀 Continuer à performer</div>
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Être un exemple pour mes proches', this, 3)">⭐ Être un exemple pour mes proches</div>
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Ne pas souffrir', this, 3)">💊 Ne pas souffrir</div>
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Profiter de ma retraite', this, 3)">🌴 Profiter de ma retraite</div>
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Garder mon énergie', this, 3)">⚡ Garder mon énergie</div>
                    <div class="option" onclick="toggleMultiSelect('motivations', 'Rester séduisant(e)', this, 3)">💫 Rester séduisant(e)</div>
                </div>
                <button class="btn-primary" onclick="if(validateMultiSelect('motivations')) goToNextScreen();" style="width: 100%; margin-top: 20px;">
                    CONTINUER →
                </button>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q39: BUDGET -->
        <div id="screen-39" class="screen">
            <div class="card">
                <h2 class="question-text">Budget mensuel pour ta santé :</h2>
                <div class="options">
                    <div class="option" onclick="answer('budget', 'Moins de 50€'); goToNextScreen();">Moins de 50€</div>
                    <div class="option" onclick="answer('budget', '50-150€'); goToNextScreen();">50-150€</div>
                    <div class="option" onclick="answer('budget', '150-300€'); goToNextScreen();">150-300€</div>
                    <div class="option" onclick="answer('budget', '300-500€'); goToNextScreen();">300-500€</div>
                    <div class="option" onclick="answer('budget', 'Plus de 500€'); goToNextScreen();">Plus de 500€</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q40: TEMPS DISPONIBLE -->
        <div id="screen-40" class="screen">
            <div class="card">
                <h2 class="question-text">Temps disponible par jour pour ta santé :</h2>
                <div class="options">
                    <div class="option" onclick="answer('time_available', 'Moins de 15min'); goToNextScreen();">Moins de 15min</div>
                    <div class="option" onclick="answer('time_available', '15-30min'); goToNextScreen();">15-30min</div>
                    <div class="option" onclick="answer('time_available', '30-60min'); goToNextScreen();">30-60min</div>
                    <div class="option" onclick="answer('time_available', '1-2h'); goToNextScreen();">1-2h</div>
                    <div class="option" onclick="answer('time_available', 'Plus de 2h'); goToNextScreen();">Plus de 2h</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- Q41: BAGUETTE MAGIQUE -->
        <div id="screen-41" class="screen">
            <div class="card">
                <h2 class="question-text">Si tu avais UNE baguette magique :</h2>
                <div class="options">
                    <div class="option" onclick="answer('magic_wish', 'Énergie illimitée'); goToNextScreen();">Énergie illimitée</div>
                    <div class="option" onclick="answer('magic_wish', 'Corps parfait'); goToNextScreen();">Corps parfait</div>
                    <div class="option" onclick="answer('magic_wish', 'Mental de génie'); goToNextScreen();">Mental de génie</div>
                    <div class="option" onclick="answer('magic_wish', 'Sommeil réparateur'); goToNextScreen();">Sommeil réparateur</div>
                    <div class="option" onclick="answer('magic_wish', '+30 ans de vie en forme'); goToNextScreen();">+30 ans de vie en forme</div>
                </div>
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- WOW BREAK 6 FINAL (CORRIGÉ) -->
        <div id="screen-wow6" class="screen">
            <div class="card wow-break">
                <div class="wow-title">⚡ TU CONTRÔLES TON DESTIN</div>
                <div class="wow-content">
                    <div class="wow-stat">77% = Tes choix</div>
                    <p style="text-align: center; font-size: 16px; margin: 15px 0;">
                        <strong>Génétique = seulement 23% !</strong>
                    </p>
                    <p><strong>📊 Science (2018)</strong></p>
                    <p>2,748 jumeaux - 40 ans de suivi</p>
                    <br>
                    <p><strong>En 12 semaines :</strong></p>
                    <p>✓ 500+ gènes modifiés</p>
                    <p>✓ -3 ans d'âge cellulaire</p>
                    <p>✓ Gènes longévité activés</p>
                    <br>
                    <p style="color: var(--accent-green); font-weight: 700; font-size: 20px;">
                        Prêt(e) pour TON protocole ?
                    </p>
                    <div class="wow-source">Source : science.org/doi/10.1126/science.aat7615</div>
                </div>
                <button class="btn-primary btn-green" onclick="goToNextScreen()">
                    DÉCOUVRIR MON SCORE →
                </button>
            </div>
        </div>

        <!-- ÉCRAN EMAIL -->
        <div id="screen-email" class="screen">
            <div class="card">
                <h2 class="question-text">📊 Ton Score Personnalisé Arrive !</h2>
                <p class="subtitle" style="text-align: center; margin-bottom: 30px;">
                    Analyse de tes 41 réponses en cours...<br>
                    <strong>100% gratuit • Résultats immédiats</strong>
                </p>
                
                <div class="form-group">
                    <label class="form-label" for="email">Email pour recevoir ton score :</label>
                    <input 
                        type="email" 
                        id="email" 
                        class="form-input" 
                        placeholder="ton@email.com"
                        required
                    >
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="firstname">Prénom :</label>
                    <input 
                        type="text" 
                        id="firstname" 
                        class="form-input" 
                        placeholder="Ton prénom"
                        required
                    >
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="consent" class="checkbox" required>
                    <label for="consent" style="font-size: 13px; color: var(--text-light);">
                        J'accepte de recevoir mon score détaillé et les conseils personnalisés OraLife 
                        (désinscription en 1 clic, jamais de spam)
                    </label>
                </div>
                
                <button class="btn-primary btn-green" onclick="submitEmail()" style="width: 100%; margin-top: 20px;">
                    VOIR MON SCORE →
                </button>
                
                <p style="text-align: center; font-size: 12px; color: var(--text-light); margin-top: 20px;">
                    🔒 Données 100% sécurisées • RGPD compliant
                </p>
                
                <button class="btn-back" onclick="goToPrevScreen()">← Retour</button>
            </div>
        </div>

        <!-- ÉCRAN CALCUL -->
        <div id="screen-calculating" class="screen">
            <div class="card" style="text-align: center;">
                <h2 style="color: var(--primary-blue); margin-bottom: 30px;">
                    Analyse de tes réponses en cours...
                </h2>
                
                <div class="score-circle">
                    <svg width="180" height="180">
                        <circle cx="90" cy="90" r="80" fill="none" stroke="#E0E0E0" stroke-width="10"/>
                        <circle 
                            cx="90" cy="90" r="80" 
                            fill="none" 
                            stroke="url(#gradient)" 
                            stroke-width="10"
                            stroke-dasharray="502"
                            stroke-dashoffset="502"
                            transform="rotate(-90 90 90)"
                            style="animation: fillCircle 3s ease-in-out forwards;"
                        />
                        <defs>
                            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:var(--primary-blue);stop-opacity:1" />
                                <stop offset="100%" style="stop-color:var(--accent-green);stop-opacity:1" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="score-value">
                        <span class="loading"></span>
                    </div>
                </div>
                
                <div id="calculatingSteps" style="margin-top: 30px;">
                    <p style="color: var(--text-light); margin: 10px 0;">
                        <span id="step1" style="opacity: 0.3;">✓ Analyse de ton profil métabolique...</span>
                    </p>
                    <p style="color: var(--text-light); margin: 10px 0;">
                        <span id="step2" style="opacity: 0.3;">✓ Calcul de ton âge biologique...</span>
                    </p>
                    <p style="color: var(--text-light); margin: 10px 0;">
                        <span id="step3" style="opacity: 0.3;">✓ Génération de tes recommandations...</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- ÉCRAN RÉSULTATS -->
        <div id="screen-results" class="screen">
            <div class="card">
                <h1 style="text-align: center; color: var(--primary-blue); margin-bottom: 20px;">
                    Ton Score de Vieillissement
                </h1>
                
                <div class="score-circle">
                    <svg width="180" height="180">
                        <circle cx="90" cy="90" r="80" fill="none" stroke="#E0E0E0" stroke-width="10"/>
                        <circle 
                            id="scoreCircle"
                            cx="90" cy="90" r="80" 
                            fill="none" 
                            stroke="url(#gradient2)" 
                            stroke-width="10"
                            stroke-dasharray="502"
                            stroke-dashoffset="502"
                            transform="rotate(-90 90 90)"
                        />
                        <defs>
                            <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:var(--primary-blue);stop-opacity:1" />
                                <stop offset="100%" style="stop-color:var(--accent-green);stop-opacity:1" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="score-value" id="finalScore">--</div>
                </div>
                
                <div id="scoreInterpretation" style="text-align: center; margin: 20px 0;">
                    <!-- Sera rempli dynamiquement -->
                </div>
                
                <div class="results-details">
                    <h3 style="color: var(--primary-blue); margin-bottom: 15px;">
                        📊 Ton Analyse Détaillée :
                    </h3>
                    <div id="detailedResults">
                        <!-- Sera rempli dynamiquement -->
                    </div>
                </div>
                
                <div style="background: linear-gradient(135deg, #FFE5E5 0%, #FFEDED 100%); 
                            border-left: 4px solid #FF4444; 
                            padding: 20px; 
                            border-radius: 10px; 
                            margin: 30px 0;">
                    <h3 style="color: #CC0000; margin-bottom: 10px;">
                        ⚠️ Points d'Attention Urgents :
                    </h3>
                    <div id="urgentPoints">
                        <!-- Sera rempli dynamiquement -->
                    </div>
                </div>
                
                <div style="background: linear-gradient(135deg, #E5FFE5 0%, #EDFFED 100%); 
                            border-left: 4px solid var(--accent-green); 
                            padding: 20px; 
                            border-radius: 10px; 
                            margin: 30px 0;">
                    <h3 style="color: #008800; margin-bottom: 10px;">
                        ✅ Tes Forces Actuelles :
                    </h3>
                    <div id="strengthPoints">
                        <!-- Sera rempli dynamiquement -->
                    </div>
                </div>
                
                <div style="background: var(--primary-blue); 
                            color: white; 
                            padding: 30px; 
                            border-radius: 15px; 
                            text-align: center; 
                            margin: 30px 0;">
                    <h2 style="margin-bottom: 20px;">🚀 Prochaine Étape</h2>
                    <p style="font-size: 16px; margin-bottom: 20px;">
                        Découvre ton <strong>Protocole Personnalisé OraLife</strong><br>
                        pour inverser ton vieillissement en 90 jours
                    </p>
                    <button class="btn-primary btn-green" style="font-size: 20px; padding: 20px 40px;">
                        ACCÉDER À MON PROTOCOLE →
                    </button>
                </div>
                
                <p style="text-align: center; font-size: 12px; color: var(--text-light); margin-top: 20px;">
                    📧 Ton score détaillé a été envoyé à <span id="userEmail"></span>
                </p>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT COMPLET -->
    <script>
        // État global
        let currentScreen = 0;
        let answers = {};
        let multiSelectAnswers = {};
        let userInfo = {};
        const totalScreens = 48; // Total incluant tous les écrans
        
        // Mapping des écrans (CORRIGÉ)
        const screenMap = {
            0: 'screen-0',
            1: 'screen-1',
            2: 'screen-2',
            3: 'screen-3',
            4: 'screen-4',
            5: 'screen-5',
            6: 'screen-6',
            7: 'screen-7',
            8: 'screen-8',
            9: 'screen-wow1',
            10: 'screen-9',
            11: 'screen-10',
            12: 'screen-11',
            13: 'screen-12',
            14: 'screen-13',
            15: 'screen-wow2',
            16: 'screen-14',
            17: 'screen-15',
            18: 'screen-16',
            19: 'screen-17',
            20: 'screen-18',
            21: 'screen-19',
            22: 'screen-20',
            23: 'screen-wow3',
            24: 'screen-21',
            25: 'screen-22',
            26: 'screen-23',
            27: 'screen-24',
            28: 'screen-25',
            29: 'screen-26',
            30: 'screen-27',
            31: 'screen-28',
            32: 'screen-wow4',
            33: 'screen-29',
            34: 'screen-30',
            35: 'screen-31',
            36: 'screen-32',
            37: 'screen-33',
            38: 'screen-34',
            39: 'screen-35',
            40: 'screen-36',
            41: 'screen-wow5',
            42: 'screen-37',
            43: 'screen-38',
            44: 'screen-39',
            45: 'screen-40',
            46: 'screen-41',
            47: 'screen-wow6',
            48: 'screen-email',
            49: 'screen-calculating',
            50: 'screen-results'
        };
        
        // Navigation
        function goToNextScreen() {
            hideCurrentScreen();
            currentScreen++;
            showScreen(currentScreen);
            updateProgressBar();
            
            // Setup des questions conditionnelles
            if (screenMap[currentScreen] === 'screen-10') setupQ10();
            if (screenMap[currentScreen] === 'screen-16') setupQ16();
            if (screenMap[currentScreen] === 'screen-33') setupQ33();
        }
        
        function goToPrevScreen() {
            hideCurrentScreen();
            currentScreen--;
            showScreen(currentScreen);
            updateProgressBar();
        }
        
        function hideCurrentScreen() {
            const currentScreenId = screenMap[currentScreen];
            if (currentScreenId) {
                const element = document.getElementById(currentScreenId);
                if (element) {
                    element.classList.remove('active');
                }
            }
        }
        
        function showScreen(screenNumber) {
            const screenId = screenMap[screenNumber];
            if (screenId) {
                const element = document.getElementById(screenId);
                if (element) {
                    element.classList.add('active');
                }
            }
        }
        
        // Enregistrer les réponses
        function answer(key, value) {
            answers[key] = value;
            console.log('Réponse:', key, '=', value);
        }
        
        // Multi-select handling
        function toggleMultiSelect(category, value, element, maxSelections = null) {
            if (!multiSelectAnswers[category]) {
                multiSelectAnswers[category] = [];
            }
            
            const index = multiSelectAnswers[category].indexOf(value);
            
            // Si c'est "Aucun" ou similaire, désélectionner tout le reste
            if (value.includes('Aucun') || value === 'Aucune activité') {
                // Désélectionner tous les autres
                document.querySelectorAll(`#${category}-options .option`).forEach(opt => {
                    opt.classList.remove('selected');
                });
                multiSelectAnswers[category] = [value];
                element.classList.add('selected');
                return;
            }
            
            // Si un autre est sélectionné, enlever "Aucun"
            const noneIndex = multiSelectAnswers[category].findIndex(v => 
                v.includes('Aucun') || v === 'Aucune activité'
            );
            if (noneIndex > -1) {
                multiSelectAnswers[category].splice(noneIndex, 1);
                document.querySelectorAll(`#${category}-options .option`).forEach(opt => {
                    if (opt.textContent.includes('Aucun') || opt.textContent.includes('Aucune activité')) {
                        opt.classList.remove('selected');
                    }
                });
            }
            
            if (index > -1) {
                // Déselectionner
                multiSelectAnswers[category].splice(index, 1);
                element.classList.remove('selected');
            } else {
                // Vérifier le maximum
                if (maxSelections && multiSelectAnswers[category].length >= maxSelections) {
                    alert(`Tu peux choisir maximum ${maxSelections} options`);
                    return;
                }
                // Sélectionner
                multiSelectAnswers[category].push(value);
                element.classList.add('selected');
            }
        }
        
        function validateMultiSelect(category) {
            if (!multiSelectAnswers[category] || multiSelectAnswers[category].length === 0) {
                alert('Merci de choisir au moins une option');
                return false;
            }
            answers[category] = multiSelectAnswers[category];
            return true;
        }
        
        // Barre de progression
        function updateProgressBar() {
            const progress = (currentScreen / 47) * 100; // 47 = dernier écran avant email
            document.getElementById('progressBar').style.width = progress + '%';
        }
        
        // Questions conditionnelles
        function setupQ10() {
            const gender = answers['gender'];
            const q10Text = document.getElementById('q10-text');
            const q10Options = document.getElementById('q10-options');
            
            q10Options.innerHTML = '';
            
            if (gender === 'femme') {
                q10Text.textContent = "Où en es-tu dans ton cycle féminin ?";
                const options = [
                    "Cycle régulier parfait",
                    "Cycle irrégulier",
                    "Péri-ménopause",
                    "Ménopause",
                    "Post-ménopause"
                ];
                
                options.forEach(opt => {
                    const div = document.createElement('div');
                    div.className = 'option';
                    div.textContent = opt;
                    div.onclick = () => {
                        answer('female_cycle', opt);
                        goToNextScreen();
                    };
                    q10Options.appendChild(div);
                });
            } else {
                q10Text.textContent = "Ta libido actuellement :";
                const options = [
                    "Au top comme à 20 ans",
                    "Correcte",
                    "En baisse notable",
                    "Très diminuée",
                    "Problématique"
                ];
                
                options.forEach(opt => {
                    const div = document.createElement('div');
                    div.className = 'option';
                    div.textContent = opt;
                    div.onclick = () => {
                        answer('libido', opt);
                        goToNextScreen();
                    };
                    q10Options.appendChild(div);
                });
            }
        }
        
        function setupQ16() {
            const gender = answers['gender'];
            const q16Text = document.getElementById('q16-text');
            const q16Options = document.getElementById('q16-options');
            
            q16Options.innerHTML = '';
            
            if (gender === 'femme') {
                q16Text.textContent = "Symptômes hormonaux :";
                const options = [
                    "Aucun",
                    "Bouffées de chaleur occasionnelles",
                    "Sautes d'humeur fréquentes",
                    "Multiples symptômes gênants",
                    "Impact majeur sur ma vie"
                ];
                
                options.forEach(opt => {
                    const div = document.createElement('div');
                    div.className = 'option';
                    div.textContent = opt;
                    div.onclick = () => {
                        answer('hormonal_symptoms', opt);
                        goToNextScreen();
                    };
                    q16Options.appendChild(div);
                });
            } else {
                q16Text.textContent = "Masse musculaire vs il y a 5 ans :";
                const options = [
                    "Identique ou mieux",
                    "-10% environ",
                    "-20% environ",
                    "-30% environ",
                    "Fonte musculaire importante"
                ];
                
                options.forEach(opt => {
                    const div = document.createElement('div');
                    div.className = 'option';
                    div.textContent = opt;
                    div.onclick = () => {
                        answer('muscle_mass', opt);
                        goToNextScreen();
                    };
                    q16Options.appendChild(div);
                });
            }
        }
        
        function setupQ33() {
            const gender = answers['gender'];
            const q33Text = document.getElementById('q33-text');
            const q33Options = document.getElementById('q33-options');
            
            q33Options.innerHTML = '';
            
            if (gender === 'femme') {
                q33Text.textContent = "Charge mentale quotidienne :";
                const options = [
                    "Légère et gérable",
                    "Normale",
                    "Importante",
                    "Très lourde",
                    "Écrasante"
                ];
                
                options.forEach(opt => {
                    const div = document.createElement('div');
                    div.className = 'option';
                    div.textContent = opt;
                    div.onclick = () => {
                        answer('mental_load', opt);
                        goToNextScreen();
                    };
                    q33Options.appendChild(div);
                });
            } else {
                q33Text.textContent = "Pression professionnelle/financière :";
                const options = [
                    "Très faible",
                    "Gérable",
                    "Importante",
                    "Très forte",
                    "Insoutenable"
                ];
                
                options.forEach(opt => {
                    const div = document.createElement('div');
                    div.className = 'option';
                    div.textContent = opt;
                    div.onclick = () => {
                        answer('professional_pressure', opt);
                        goToNextScreen();
                    };
                    q33Options.appendChild(div);
                });
            }
        }
        
        // Soumission email
        function submitEmail() {
            const email = document.getElementById('email').value;
            const firstname = document.getElementById('firstname').value;
            const consent = document.getElementById('consent').checked;
            
            if (!email || !firstname || !consent) {
                alert('Merci de remplir tous les champs et d\'accepter les conditions');
                return;
            }
            
            if (!validateEmail(email)) {
                alert('Merci d\'entrer un email valide');
                return;
            }
            
            userInfo.email = email;
            userInfo.firstname = firstname;
            
            // Passer à l'écran de calcul
            hideCurrentScreen();
            currentScreen = 49;
            showScreen(currentScreen);
            
            // Lancer l'animation de calcul
            startCalculation();
        }
        
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // Animation de calcul
        function startCalculation() {
            // Animer les étapes
            setTimeout(() => {
                document.getElementById('step1').style.opacity = '1';
            }, 500);
            
            setTimeout(() => {
                document.getElementById('step2').style.opacity = '1';
            }, 1500);
            
            setTimeout(() => {
                document.getElementById('step3').style.opacity = '1';
            }, 2500);
            
            // Calculer et afficher le score
            setTimeout(() => {
                calculateAndShowResults();
            }, 3500);
        }
        
        // Calcul du score (AMÉLIORÉ)
        function calculateScore() {
            let score = 100;
            
            // Système de scoring basé sur les réponses
            const scoring = {
                // Énergie
                'energy_vs_3years': {
                    'Mieux qu\'avant': 0,
                    'Identique': -5,
                    '-20% environ': -10,
                    '-40% environ': -20,
                    '-60% ou plus': -30
                },
                'last_100_percent': {
                    'Cette semaine': 0,
                    'Ce mois-ci': -5,
                    'Cette année': -10,
                    'L\'année dernière': -15,
                    'Je ne sais plus': -20
                },
                'first_crash': {
                    'Jamais': 0,
                    'Après 17h': -3,
                    'Vers 14h-15h': -6,
                    'Juste après le déjeuner': -9,
                    'Dès le matin': -12
                },
                // Physique
                'stairs_test': {
                    'Facile, en parlant': 0,
                    'Léger essoufflement': -5,
                    'Besoin de reprendre mon souffle': -10,
                    'Très difficile': -15,
                    'J\'évite les escaliers': -20
                },
                'sitting_hours': {
                    'Moins de 4h': 0,
                    '4-6h': -3,
                    '6-8h': -6,
                    '8-10h': -9,
                    'Plus de 10h': -12
                },
                'weight_vs_ideal': {
                    'Parfait': 0,
                    '+2-5 kg': -3,
                    '+5-10 kg': -6,
                    '+10-15 kg': -9,
                    '+15 kg ou plus': -12
                },
                // Sommeil
                'night_wakeups': {
                    '0 (sommeil parfait)': 0,
                    '1 fois': -3,
                    '2-3 fois': -6,
                    '4+ fois': -9,
                    'Insomnie chronique': -15
                },
                'sleep_quality': {
                    '7-9h de sommeil profond': 0,
                    '6-7h correct': -5,
                    '5-6h léger et fragmenté': -10,
                    'Moins de 5h': -15,
                    'Insomnie chronique': -20
                },
                'bedtime': {
                    'Avant 22h': 0,
                    '22h-23h': -2,
                    '23h-minuit': -4,
                    'Minuit-1h': -6,
                    'Après 1h du matin': -8
                },
                // Sport
                'sport_frequency': {
                    'Tous les jours': 0,
                    '4-6 fois/semaine': -2,
                    '2-3 fois/semaine': -5,
                    '1 fois/semaine': -8,
                    'Rarement ou jamais': -15
                },
                // Reste du scoring...
                'alcohol': {
                    '0 (jamais)': 0,
                    '1-3 verres': -3,
                    '4-7 verres (1/jour)': -6,
                    '8-14 verres (2/jour)': -12,
                    '15+ verres': -18
                }
            };
            
            // Calculer le score
            for (const [key, value] of Object.entries(answers)) {
                if (scoring[key] && scoring[key][value]) {
                    score += scoring[key][value];
                }
            }
            
            // Bonus pour multi-select
            if (answers.activities && !answers.activities.includes('Aucune activité')) {
                score += Math.min(5, answers.activities.length);
            }
            
            // S'assurer que le score reste entre 0 et 100
            score = Math.max(0, Math.min(100, score));
            
            return score;
        }
        
        // Afficher les résultats
        function calculateAndShowResults() {
            const score = calculateScore();
            
            // Passer à l'écran des résultats
            hideCurrentScreen();
            currentScreen = 50;
            showScreen(currentScreen);
            
            // Afficher le score avec animation
            setTimeout(() => {
                animateScore(score);
                displayInterpretation(score);
                displayDetailedAnalysis(score);
            }, 500);
            
            // Afficher l'email
            document.getElementById('userEmail').textContent = userInfo.email;
        }
        
        function animateScore(finalScore) {
            const scoreElement = document.getElementById('finalScore');
            const circle = document.getElementById('scoreCircle');
            
            // Animation du cercle
            const circumference = 502;
            const offset = circumference - (finalScore / 100) * circumference;
            circle.style.transition = 'stroke-dashoffset 2s ease-out';
            circle.style.strokeDashoffset = offset;
            
            // Animation du nombre
            let currentScore = 0;
            const increment = finalScore / 50;
            const timer = setInterval(() => {
                currentScore += increment;
                if (currentScore >= finalScore) {
                    currentScore = finalScore;
                    clearInterval(timer);
                }
                scoreElement.textContent = Math.round(currentScore);
            }, 40);
        }
        
        function displayInterpretation(score) {
            const interpretationDiv = document.getElementById('scoreInterpretation');
            let interpretation = '';
            
            if (score >= 80) {
                interpretation = `
                    <h2 style="color: #00CC00;">🌟 EXCELLENT !</h2>
                    <p>Tu vieillis MOINS VITE que 95% de la population</p>
                `;
            } else if (score >= 60) {
                interpretation = `
                    <h2 style="color: #FFA500;">✅ BON</h2>
                    <p>Tu es sur la bonne voie, mais il y a du potentiel d'amélioration</p>
                `;
            } else if (score >= 40) {
                interpretation = `
                    <h2 style="color: #FF6600;">⚠️ ATTENTION</h2>
                    <p>Tu vieillis PLUS VITE que la normale - Action urgente nécessaire</p>
                `;
            } else {
                interpretation = `
                    <h2 style="color: #FF0000;">🚨 CRITIQUE</h2>
                    <p>Ton vieillissement est ACCÉLÉRÉ - Changement vital urgent</p>
                `;
            }
            
            interpretationDiv.innerHTML = interpretation;
        }
        
        function displayDetailedAnalysis(score) {
            const detailedDiv = document.getElementById('detailedResults');
            const urgentDiv = document.getElementById('urgentPoints');
            const strengthDiv = document.getElementById('strengthPoints');
            
            // Analyse détaillée basée sur les réponses
            let ageImpact = calculateAgeImpact();
            let categories = analyzeCategories();
            
            detailedDiv.innerHTML = `
                <p><strong>Âge chronologique :</strong> ${answers.age}</p>
                <p><strong>Âge biologique estimé :</strong> <span style="color: ${ageImpact.color}; font-weight: bold;">${ageImpact.biological}</span></p>
                <p><strong>Vitesse de vieillissement :</strong> ${ageImpact.speed}</p>
            `;
            
            // Points urgents
            urgentDiv.innerHTML = categories.urgent.map(item => 
                `<p>• ${item}</p>`
            ).join('');
            
            // Points forts
            strengthDiv.innerHTML = categories.strengths.map(item => 
                `<p>• ${item}</p>`
            ).join('');
        }
        
        function calculateAgeImpact() {
            const score = calculateScore();
            let ageRange = answers.age || '30-39';
            let chronoAge = 35;
            
            switch(ageRange) {
                case '18-29': chronoAge = 24; break;
                case '30-39': chronoAge = 35; break;
                case '40-49': chronoAge = 45; break;
                case '50+': chronoAge = 55; break;
            }
            
            let ageDiff = (100 - score) * 0.3;
            let bioAge = Math.round(chronoAge + ageDiff);
            let speed = '';
            let color = '';
            
            if (score >= 80) {
                speed = 'Ralentie (-30%)';
                color = '#00CC00';
            } else if (score >= 60) {
                speed = 'Normale';
                color = '#FFA500';
            } else if (score >= 40) {
                speed = 'Accélérée (+50%)';
                color = '#FF6600';
            } else {
                speed = 'Très accélérée (+100%)';
                color = '#FF0000';
            }
            
            return {
                biological: `${bioAge} ans`,
                speed: speed,
                color: color
            };
        }
        
        function analyzeCategories() {
            const urgent = [];
            const strengths = [];
            
            // Analyser les points faibles
            if (answers.sleep_quality === 'Moins de 5h' || answers.sleep_quality === 'Insomnie chronique') {
                urgent.push('Sommeil critique - Impact majeur sur ta longévité');
            }
            if (answers.stress_level === 'Mode survie/burnout' || answers.stress_level === 'Très élevé quotidiennement') {
                urgent.push('Stress toxique - Inflammation chronique détectée');
            }
            if (answers.sport_frequency === 'Rarement ou jamais') {
                urgent.push('Sédentarité dangereuse - Risque cardiovasculaire élevé');
            }
            if (answers.alcohol === '15+ verres' || answers.alcohol === '8-14 verres (2/jour)') {
                urgent.push('Consommation d\'alcool excessive - Dommages cellulaires');
            }
            
            // Analyser les points forts
            if (answers.sport_frequency === 'Tous les jours' || answers.sport_frequency === '4-6 fois/semaine') {
                strengths.push('Activité physique régulière');
            }
            if (answers.hydration === '2L+ religieusement' || answers.hydration === '1.5-2L') {
                strengths.push('Bonne hydratation');
            }
            if (answers.alcohol === '0 (jamais)') {
                strengths.push('Aucune consommation d\'alcool');
            }
            
            // Par défaut
            if (urgent.length === 0) {
                urgent.push('Continue sur cette voie, mais reste vigilant(e)');
            }
            if (strengths.length === 0) {
                strengths.push('Potentiel d\'amélioration dans tous les domaines');
            }
            
            return { urgent, strengths };
        }
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateProgressBar();
        });
    </script>
</body>
</html>
        
